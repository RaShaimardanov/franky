2025-02-22 11:48:33,127 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002B39EDE2660> completed
2025-02-22 11:48:33,130 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA396C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True)
2025-02-22 11:48:33,130 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA396C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True) completed
2025-02-22 11:48:33,131 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA396C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 11:48:33,132 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA396C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 11:48:33,132 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EA396C0>)
2025-02-22 11:48:33,133 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EA396C0>) completed
2025-02-22 11:48:33,133 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC3F40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 11:48:33,134 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC3F40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 11:48:33,135 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC3F40>)
2025-02-22 11:48:33,135 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC3F40>) completed
2025-02-22 11:48:33,135 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC3F40>)
2025-02-22 11:48:33,135 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC3F40>) completed
2025-02-22 11:48:33,138 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:48:33,138 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 11:48:33,282 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:48:33,285 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA396C0>)
2025-02-22 11:48:33,286 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA396C0>) completed
2025-02-22 11:48:33,288 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA396C0>)
2025-02-22 11:48:33,288 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA396C0>) completed
2025-02-22 11:48:33,290 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EA396C0>)
2025-02-22 11:48:33,292 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EA396C0>) completed
2025-02-22 11:48:33,294 - aiogram.event - INFO - Update id=142537940 is handled. Duration 218 ms by bot id=6730535750
2025-02-22 11:48:34,611 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002B39EC73880>
2025-02-22 11:48:34,612 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002B39EC73880> completed
2025-02-22 11:48:34,614 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA398A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True)
2025-02-22 11:48:34,615 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA398A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True) completed
2025-02-22 11:48:34,616 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA398A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 11:48:34,617 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA398A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 11:48:34,623 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EA398A0>)
2025-02-22 11:48:34,623 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EA398A0>) completed
2025-02-22 11:48:34,625 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC0C40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 11:48:34,634 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC0C40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 11:48:34,636 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC0C40>)
2025-02-22 11:48:34,637 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC0C40>) completed
2025-02-22 11:48:34,638 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC0C40>)
2025-02-22 11:48:34,638 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC0C40>) completed
2025-02-22 11:48:34,642 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EA398A0>)
2025-02-22 11:48:34,649 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EA398A0>) completed
2025-02-22 11:48:34,651 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA398A0>)
2025-02-22 11:48:34,652 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA398A0>) completed
2025-02-22 11:48:34,654 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EA398A0>)
2025-02-22 11:48:34,655 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EA398A0>) completed
2025-02-22 11:48:34,689 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002B39EDE3240>
2025-02-22 11:48:34,691 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002B39EDE3240> completed
2025-02-22 11:48:34,691 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA39120>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True)
2025-02-22 11:48:34,692 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA39120>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True) completed
2025-02-22 11:48:34,692 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA39120>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 11:48:34,692 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA39120>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 11:48:34,693 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EA39120>)
2025-02-22 11:48:34,694 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EA39120>) completed
2025-02-22 11:48:34,694 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC23C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 11:48:34,695 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC23C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 11:48:34,696 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC23C0>)
2025-02-22 11:48:34,696 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC23C0>) completed
2025-02-22 11:48:34,696 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC23C0>)
2025-02-22 11:48:34,697 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC23C0>) completed
2025-02-22 11:48:34,699 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:48:34,699 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 11:48:34,829 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:48:34,830 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA39120>)
2025-02-22 11:48:34,831 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA39120>) completed
2025-02-22 11:48:34,832 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA39120>)
2025-02-22 11:48:34,833 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA39120>) completed
2025-02-22 11:48:34,834 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EA39120>)
2025-02-22 11:48:34,835 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EA39120>) completed
2025-02-22 11:48:34,837 - aiogram.event - INFO - Update id=142537941 is handled. Duration 219 ms by bot id=6730535750
2025-02-22 11:48:36,087 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002B39EDE3560>
2025-02-22 11:48:36,089 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002B39EDE3560> completed
2025-02-22 11:48:36,091 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA38F40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True)
2025-02-22 11:48:36,092 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA38F40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True) completed
2025-02-22 11:48:36,094 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA38F40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 11:48:36,095 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EA38F40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 11:48:36,101 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EA38F40>)
2025-02-22 11:48:36,101 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EA38F40>) completed
2025-02-22 11:48:36,102 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC1940>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 11:48:36,111 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC1940>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 11:48:36,112 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC1940>)
2025-02-22 11:48:36,112 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC1940>) completed
2025-02-22 11:48:36,113 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC1940>)
2025-02-22 11:48:36,114 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC1940>) completed
2025-02-22 11:48:36,116 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EA38F40>)
2025-02-22 11:48:36,122 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EA38F40>) completed
2025-02-22 11:48:36,123 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA38F40>)
2025-02-22 11:48:36,123 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EA38F40>) completed
2025-02-22 11:48:36,124 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EA38F40>)
2025-02-22 11:48:36,125 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EA38F40>) completed
2025-02-22 11:48:36,147 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002B39EDE19E0>
2025-02-22 11:48:36,148 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002B39EDE19E0> completed
2025-02-22 11:48:36,149 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EAF96C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True)
2025-02-22 11:48:36,149 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EAF96C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True) completed
2025-02-22 11:48:36,149 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EAF96C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 11:48:36,150 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EAF96C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 11:48:36,151 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EAF96C0>)
2025-02-22 11:48:36,151 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EAF96C0>) completed
2025-02-22 11:48:36,151 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC8140>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 11:48:36,152 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC8140>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 11:48:36,152 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC8140>)
2025-02-22 11:48:36,152 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC8140>) completed
2025-02-22 11:48:36,154 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC8140>)
2025-02-22 11:48:36,154 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC8140>) completed
2025-02-22 11:48:36,155 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 11:48:36,155 - root - ERROR - Файл 176 (1).mp3 (ID 7) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 140, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 76, in send
    audio_source = file_id or self._file_manager.get_file()
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound(error_msg)
src.core.exceptions.AudioFileNotFound: Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 11:48:36,158 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:48:36,158 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 11:48:36,643 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:48:36,646 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EAF96C0>)
2025-02-22 11:48:36,647 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EAF96C0>) completed
2025-02-22 11:48:36,648 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC8140>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 11:48:36,650 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC8140>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 11:48:36,651 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC8140>)
2025-02-22 11:48:36,652 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EAC8140>) completed
2025-02-22 11:48:36,653 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC8140>)
2025-02-22 11:48:36,654 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC8140>) completed
2025-02-22 11:48:36,670 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:48:36,674 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 11:48:41,693 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 1)
2025-02-22 11:48:46,703 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 2)
2025-02-22 11:48:51,713 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 3)
2025-02-22 11:48:51,775 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EAF96C0>)
2025-02-22 11:48:51,776 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EAF96C0>) completed
2025-02-22 11:48:51,778 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC8140>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICo2e5c1O2U-O-YCQmG0Q-wmsUIVCjAAK2YgACA8PJSYokGRS5TDMzNgQ', 10))
2025-02-22 11:48:51,780 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EAC8140>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICo2e5c1O2U-O-YCQmG0Q-wmsUIVCjAAK2YgACA8PJSYokGRS5TDMzNgQ', 10)) completed
2025-02-22 11:48:51,782 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC8140>)
2025-02-22 11:48:51,782 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EAC8140>) completed
2025-02-22 11:48:51,786 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EAF96C0>)
2025-02-22 11:48:51,791 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EAF96C0>) completed
2025-02-22 11:48:51,792 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EAF96C0>)
2025-02-22 11:48:51,792 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EAF96C0>) completed
2025-02-22 11:48:51,792 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EAF96C0>)
2025-02-22 11:48:51,793 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EAF96C0>) completed
2025-02-22 11:48:51,794 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002B39EDE3240>
2025-02-22 11:48:51,795 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002B39EDE3240> completed
2025-02-22 11:48:51,796 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EAF86D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True)
2025-02-22 11:48:51,796 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EAF86D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True) completed
2025-02-22 11:48:51,796 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EAF86D0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 11:48:51,796 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EAF86D0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 11:48:51,798 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EAF86D0>)
2025-02-22 11:48:51,799 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EAF86D0>) completed
2025-02-22 11:48:51,799 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39ED84EC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (10,))
2025-02-22 11:48:51,799 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39ED84EC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (10,)) completed
2025-02-22 11:48:51,800 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39ED84EC0>)
2025-02-22 11:48:51,800 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39ED84EC0>) completed
2025-02-22 11:48:51,800 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39ED84EC0>)
2025-02-22 11:48:51,801 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39ED84EC0>) completed
2025-02-22 11:48:51,801 - root - INFO - Обновлен telegram_file_id для Broadcast 10
2025-02-22 11:48:51,864 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:48:51,865 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EAF86D0>)
2025-02-22 11:48:51,866 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EAF86D0>) completed
2025-02-22 11:48:51,866 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EAF86D0>)
2025-02-22 11:48:51,867 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EAF86D0>) completed
2025-02-22 11:48:51,868 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EAF86D0>)
2025-02-22 11:48:51,868 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EAF86D0>) completed
2025-02-22 11:48:51,869 - aiogram.event - INFO - Update id=142537942 is handled. Duration 15780 ms by bot id=6730535750
2025-02-22 11:49:58,748 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002B39EDE09A0>
2025-02-22 11:49:58,749 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002B39EDE09A0> completed
2025-02-22 11:49:58,750 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True)
2025-02-22 11:49:58,750 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True) completed
2025-02-22 11:49:58,751 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC66E30>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 11:49:58,752 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC66E30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 11:49:58,755 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EC66E30>)
2025-02-22 11:49:58,756 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EC66E30>) completed
2025-02-22 11:49:58,757 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EB192C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 11:49:58,765 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EB192C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 11:49:58,766 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EB192C0>)
2025-02-22 11:49:58,766 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EB192C0>) completed
2025-02-22 11:49:58,767 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EB192C0>)
2025-02-22 11:49:58,768 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EB192C0>) completed
2025-02-22 11:49:58,770 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EC66E30>)
2025-02-22 11:49:58,782 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EC66E30>) completed
2025-02-22 11:49:58,783 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EC66E30>)
2025-02-22 11:49:58,783 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EC66E30>) completed
2025-02-22 11:49:58,784 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EC66E30>)
2025-02-22 11:49:58,785 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EC66E30>) completed
2025-02-22 11:49:58,810 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002B39EC713A0>
2025-02-22 11:49:58,811 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002B39EC713A0> completed
2025-02-22 11:49:58,811 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC673D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True)
2025-02-22 11:49:58,811 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC673D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True) completed
2025-02-22 11:49:58,812 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC673D0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 11:49:58,812 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC673D0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 11:49:58,813 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EC673D0>)
2025-02-22 11:49:58,813 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EC673D0>) completed
2025-02-22 11:49:58,814 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EADC440>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 11:49:58,814 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EADC440>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 11:49:58,815 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EADC440>)
2025-02-22 11:49:58,815 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EADC440>) completed
2025-02-22 11:49:58,816 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EADC440>)
2025-02-22 11:49:58,816 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EADC440>) completed
2025-02-22 11:49:58,817 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:49:58,818 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 11:50:03,823 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 1)
2025-02-22 11:50:08,824 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 2)
2025-02-22 11:50:13,819 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 3)
2025-02-22 11:50:18,824 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 4)
2025-02-22 11:50:18,835 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EC673D0>)
2025-02-22 11:50:18,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EC673D0>) completed
2025-02-22 11:50:18,839 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EADC440>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICpWe5c6pbhK2GcKzMdmU2E9d69eveAAK8YgACA8PJSQ4HqUCPxHaCNgQ', 9))
2025-02-22 11:50:18,848 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EADC440>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICpWe5c6pbhK2GcKzMdmU2E9d69eveAAK8YgACA8PJSQ4HqUCPxHaCNgQ', 9)) completed
2025-02-22 11:50:18,849 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EADC440>)
2025-02-22 11:50:18,850 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EADC440>) completed
2025-02-22 11:50:18,852 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EC673D0>)
2025-02-22 11:50:18,858 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002B39EC673D0>) completed
2025-02-22 11:50:18,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EC673D0>)
2025-02-22 11:50:18,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EC673D0>) completed
2025-02-22 11:50:18,860 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EC673D0>)
2025-02-22 11:50:18,861 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EC673D0>) completed
2025-02-22 11:50:18,864 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002B39EC737E0>
2025-02-22 11:50:18,866 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002B39EC737E0> completed
2025-02-22 11:50:18,867 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC67790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True)
2025-02-22 11:50:18,867 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC67790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002B39E5AC400>, deterministic=True) completed
2025-02-22 11:50:18,868 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC67790>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 11:50:18,869 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002B39EC67790>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 11:50:18,870 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EC67790>)
2025-02-22 11:50:18,870 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002B39EC67790>) completed
2025-02-22 11:50:18,871 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EACB2C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (9,))
2025-02-22 11:50:18,872 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002B39EACB2C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (9,)) completed
2025-02-22 11:50:18,873 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EACB2C0>)
2025-02-22 11:50:18,873 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002B39EACB2C0>) completed
2025-02-22 11:50:18,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EACB2C0>)
2025-02-22 11:50:18,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002B39EACB2C0>) completed
2025-02-22 11:50:18,875 - root - INFO - Обновлен telegram_file_id для Broadcast 9
2025-02-22 11:50:18,945 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 11:50:18,947 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EC67790>)
2025-02-22 11:50:18,948 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EC67790>) completed
2025-02-22 11:50:18,951 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EC67790>)
2025-02-22 11:50:18,952 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002B39EC67790>) completed
2025-02-22 11:50:18,954 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EC67790>)
2025-02-22 11:50:18,955 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002B39EC67790>) completed
2025-02-22 11:50:18,957 - aiogram.event - INFO - Update id=142537943 is handled. Duration 20219 ms by bot id=6730535750
2025-02-22 12:45:55,001 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 12:45:55,262 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 12:45:55,264 - root - INFO - Бот остановлен...
2025-02-22 12:45:55,562 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x000002B39EDEF5C0>
2025-02-22 12:46:02,362 - root - INFO - Инициализация бота...
2025-02-22 12:46:02,363 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 12:46:02,964 - root - INFO - Запуск бота...
2025-02-22 12:46:03,456 - aiogram.dispatcher - INFO - Start polling
2025-02-22 12:46:03,571 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 12:46:05,415 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D1885E0>
2025-02-22 12:46:05,416 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D1885E0> completed
2025-02-22 12:46:05,416 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:46:05,416 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:46:05,417 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:46:05,417 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:46:05,417 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:46:05,417 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:46:05,417 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D02C840>, 'PRAGMA read_uncommitted', [])
2025-02-22 12:46:05,418 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D02C840>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 12:46:05,418 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D02C840>)
2025-02-22 12:46:05,418 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D02C840>) completed
2025-02-22 12:46:05,419 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D02C840>)
2025-02-22 12:46:05,419 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D02C840>) completed
2025-02-22 12:46:05,419 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:46:05,419 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:46:05,423 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:46:05,423 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:46:05,423 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D02D3C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:46:05,430 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D02D3C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:46:05,430 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D02D3C0>)
2025-02-22 12:46:05,430 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D02D3C0>) completed
2025-02-22 12:46:05,431 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D02D3C0>)
2025-02-22 12:46:05,431 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D02D3C0>) completed
2025-02-22 12:46:05,432 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:46:05,436 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:46:05,436 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:46:05,436 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:46:05,437 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:46:05,437 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:46:05,456 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D1A23E0>
2025-02-22 12:46:05,457 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D1A23E0> completed
2025-02-22 12:46:05,458 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C5E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:46:05,458 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C5E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:46:05,458 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C5E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:46:05,458 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C5E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:46:05,461 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C5E0>)
2025-02-22 12:46:05,461 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C5E0>) completed
2025-02-22 12:46:05,461 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D040DC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:46:05,462 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D040DC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:46:05,462 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D040DC0>)
2025-02-22 12:46:05,463 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D040DC0>) completed
2025-02-22 12:46:05,463 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D040DC0>)
2025-02-22 12:46:05,463 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D040DC0>) completed
2025-02-22 12:46:05,464 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:46:05,465 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:46:05,845 - root - WARNING - Обнаружен невалидный file_id, отправляем локальный файл
2025-02-22 12:46:10,480 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 1)
2025-02-22 12:46:15,489 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 2)
2025-02-22 12:46:20,495 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 3)
2025-02-22 12:46:21,531 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C5E0>)
2025-02-22 12:46:21,532 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C5E0>) completed
2025-02-22 12:46:21,534 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D040DC0>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICp2e5gM0izBEofl_NmRxNK9N1QcWTAAJMYwACA8PJSU7BoragHTChNgQ', 9))
2025-02-22 12:46:21,543 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D040DC0>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICp2e5gM0izBEofl_NmRxNK9N1QcWTAAJMYwACA8PJSU7BoragHTChNgQ', 9)) completed
2025-02-22 12:46:21,547 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D040DC0>)
2025-02-22 12:46:21,547 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D040DC0>) completed
2025-02-22 12:46:21,550 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D01C5E0>)
2025-02-22 12:46:21,555 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D01C5E0>) completed
2025-02-22 12:46:21,556 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01C5E0>)
2025-02-22 12:46:21,557 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01C5E0>) completed
2025-02-22 12:46:21,558 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01C5E0>)
2025-02-22 12:46:21,558 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01C5E0>) completed
2025-02-22 12:46:21,562 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D1A3F60>
2025-02-22 12:46:21,563 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D1A3F60> completed
2025-02-22 12:46:21,564 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B6A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:46:21,565 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B6A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:46:21,566 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B6A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:46:21,566 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B6A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:46:21,571 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF6B6A0>)
2025-02-22 12:46:21,571 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF6B6A0>) completed
2025-02-22 12:46:21,572 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF90C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (9,))
2025-02-22 12:46:21,573 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF90C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (9,)) completed
2025-02-22 12:46:21,574 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF90C0>)
2025-02-22 12:46:21,574 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF90C0>) completed
2025-02-22 12:46:21,575 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF90C0>)
2025-02-22 12:46:21,576 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF90C0>) completed
2025-02-22 12:46:21,577 - root - INFO - Обновлен telegram_file_id для Broadcast 9
2025-02-22 12:46:21,577 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:46:21,578 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B6A0>)
2025-02-22 12:46:21,578 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B6A0>) completed
2025-02-22 12:46:21,578 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B6A0>)
2025-02-22 12:46:21,578 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B6A0>) completed
2025-02-22 12:46:21,579 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF6B6A0>)
2025-02-22 12:46:21,579 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF6B6A0>) completed
2025-02-22 12:46:21,580 - aiogram.event - INFO - Update id=142537944 is handled. Duration 16172 ms by bot id=6730535750
2025-02-22 12:48:44,192 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D1A3F60>
2025-02-22 12:48:44,195 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D1A3F60> completed
2025-02-22 12:48:44,197 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F100>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:44,197 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F100>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:44,199 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F100>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:44,200 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F100>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:44,206 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F100>)
2025-02-22 12:48:44,207 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F100>) completed
2025-02-22 12:48:44,208 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D291240>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:48:44,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D291240>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:48:44,219 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D291240>)
2025-02-22 12:48:44,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D291240>) completed
2025-02-22 12:48:44,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D291240>)
2025-02-22 12:48:44,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D291240>) completed
2025-02-22 12:48:44,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D18F100>)
2025-02-22 12:48:44,234 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D18F100>) completed
2025-02-22 12:48:44,236 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F100>)
2025-02-22 12:48:44,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F100>) completed
2025-02-22 12:48:44,238 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F100>)
2025-02-22 12:48:44,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F100>) completed
2025-02-22 12:48:44,268 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31B4C0>
2025-02-22 12:48:44,270 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31B4C0> completed
2025-02-22 12:48:44,271 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:44,271 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:44,272 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01D6C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:44,272 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01D6C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:44,274 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01D6C0>)
2025-02-22 12:48:44,274 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01D6C0>) completed
2025-02-22 12:48:44,275 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFAB40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:48:44,276 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFAB40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:48:44,277 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFAB40>)
2025-02-22 12:48:44,277 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFAB40>) completed
2025-02-22 12:48:44,278 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFAB40>)
2025-02-22 12:48:44,278 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFAB40>) completed
2025-02-22 12:48:44,280 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 12:48:44,280 - root - ERROR - 
2025-02-22 12:48:44,281 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:44,282 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:44,283 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01D6C0>)
2025-02-22 12:48:44,284 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01D6C0>) completed
2025-02-22 12:48:44,285 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFAB40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:48:44,286 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFAB40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:48:44,287 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFAB40>)
2025-02-22 12:48:44,287 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFAB40>) completed
2025-02-22 12:48:44,288 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFAB40>)
2025-02-22 12:48:44,288 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFAB40>) completed
2025-02-22 12:48:44,290 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:44,292 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:48:44,644 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:44,647 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01D6C0>)
2025-02-22 12:48:44,648 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01D6C0>) completed
2025-02-22 12:48:44,649 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01D6C0>)
2025-02-22 12:48:44,650 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01D6C0>) completed
2025-02-22 12:48:44,650 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01D6C0>)
2025-02-22 12:48:44,651 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01D6C0>) completed
2025-02-22 12:48:44,653 - aiogram.event - INFO - Update id=142537945 is handled. Duration 468 ms by bot id=6730535750
2025-02-22 12:48:46,804 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31B740>
2025-02-22 12:48:46,806 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31B740> completed
2025-02-22 12:48:46,808 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF697B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:46,808 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF697B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:46,810 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF697B0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:46,811 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF697B0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:46,819 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF697B0>)
2025-02-22 12:48:46,820 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF697B0>) completed
2025-02-22 12:48:46,821 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF9A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:48:46,831 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF9A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:48:46,833 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF9A40>)
2025-02-22 12:48:46,834 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF9A40>) completed
2025-02-22 12:48:46,835 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF9A40>)
2025-02-22 12:48:46,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF9A40>) completed
2025-02-22 12:48:46,838 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF697B0>)
2025-02-22 12:48:46,845 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF697B0>) completed
2025-02-22 12:48:46,846 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF697B0>)
2025-02-22 12:48:46,846 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF697B0>) completed
2025-02-22 12:48:46,847 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF697B0>)
2025-02-22 12:48:46,848 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF697B0>) completed
2025-02-22 12:48:46,869 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31A2A0>
2025-02-22 12:48:46,870 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31A2A0> completed
2025-02-22 12:48:46,871 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C9A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:46,871 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C9A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:46,872 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C9A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:46,872 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C9A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:46,872 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C9A0>)
2025-02-22 12:48:46,872 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C9A0>) completed
2025-02-22 12:48:46,873 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFECC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:48:46,873 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFECC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:48:46,875 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFECC0>)
2025-02-22 12:48:46,875 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFECC0>) completed
2025-02-22 12:48:46,875 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFECC0>)
2025-02-22 12:48:46,875 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFECC0>) completed
2025-02-22 12:48:46,876 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 12:48:46,876 - root - ERROR - 
2025-02-22 12:48:46,877 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:46,877 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:46,878 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C9A0>)
2025-02-22 12:48:46,878 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C9A0>) completed
2025-02-22 12:48:46,878 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFECC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:48:46,879 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFECC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:48:46,879 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFECC0>)
2025-02-22 12:48:46,880 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFECC0>) completed
2025-02-22 12:48:46,880 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFECC0>)
2025-02-22 12:48:46,880 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFECC0>) completed
2025-02-22 12:48:46,882 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:46,883 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:48:47,015 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:47,016 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01C9A0>)
2025-02-22 12:48:47,017 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01C9A0>) completed
2025-02-22 12:48:47,018 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01C9A0>)
2025-02-22 12:48:47,018 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01C9A0>) completed
2025-02-22 12:48:47,019 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01C9A0>)
2025-02-22 12:48:47,020 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01C9A0>) completed
2025-02-22 12:48:47,023 - aiogram.event - INFO - Update id=142537946 is handled. Duration 218 ms by bot id=6730535750
2025-02-22 12:48:48,673 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31A7A0>
2025-02-22 12:48:48,675 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31A7A0> completed
2025-02-22 12:48:48,677 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C040>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:48,678 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C040>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:48,679 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C040>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:48,680 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01C040>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:48,685 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C040>)
2025-02-22 12:48:48,686 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01C040>) completed
2025-02-22 12:48:48,687 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFDD40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:48:48,697 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFDD40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:48:48,699 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFDD40>)
2025-02-22 12:48:48,700 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFDD40>) completed
2025-02-22 12:48:48,702 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFDD40>)
2025-02-22 12:48:48,702 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFDD40>) completed
2025-02-22 12:48:48,706 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D01C040>)
2025-02-22 12:48:48,714 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D01C040>) completed
2025-02-22 12:48:48,716 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01C040>)
2025-02-22 12:48:48,717 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01C040>) completed
2025-02-22 12:48:48,719 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01C040>)
2025-02-22 12:48:48,720 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01C040>) completed
2025-02-22 12:48:48,741 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31B6A0>
2025-02-22 12:48:48,742 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31B6A0> completed
2025-02-22 12:48:48,742 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E020>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:48,743 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E020>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:48,743 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E020>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:48,744 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E020>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:48,745 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01E020>)
2025-02-22 12:48:48,745 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01E020>) completed
2025-02-22 12:48:48,746 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFD5C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:48:48,747 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFD5C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:48:48,747 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFD5C0>)
2025-02-22 12:48:48,748 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFD5C0>) completed
2025-02-22 12:48:48,748 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFD5C0>)
2025-02-22 12:48:48,749 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFD5C0>) completed
2025-02-22 12:48:48,751 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:48,752 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:48:48,907 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:48,909 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E020>)
2025-02-22 12:48:48,910 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E020>) completed
2025-02-22 12:48:48,911 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E020>)
2025-02-22 12:48:48,912 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E020>) completed
2025-02-22 12:48:48,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01E020>)
2025-02-22 12:48:48,916 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01E020>) completed
2025-02-22 12:48:48,918 - aiogram.event - INFO - Update id=142537947 is handled. Duration 250 ms by bot id=6730535750
2025-02-22 12:48:50,457 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31A2A0>
2025-02-22 12:48:50,459 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31A2A0> completed
2025-02-22 12:48:50,461 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:50,462 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:50,464 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01D6C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:50,465 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01D6C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:50,470 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01D6C0>)
2025-02-22 12:48:50,471 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01D6C0>) completed
2025-02-22 12:48:50,472 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFABC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:48:50,481 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFABC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:48:50,482 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFABC0>)
2025-02-22 12:48:50,483 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFABC0>) completed
2025-02-22 12:48:50,484 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFABC0>)
2025-02-22 12:48:50,485 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFABC0>) completed
2025-02-22 12:48:50,488 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D01D6C0>)
2025-02-22 12:48:50,500 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D01D6C0>) completed
2025-02-22 12:48:50,500 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01D6C0>)
2025-02-22 12:48:50,501 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01D6C0>) completed
2025-02-22 12:48:50,501 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01D6C0>)
2025-02-22 12:48:50,501 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01D6C0>) completed
2025-02-22 12:48:50,520 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31BE20>
2025-02-22 12:48:50,521 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31BE20> completed
2025-02-22 12:48:50,521 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:50,522 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:50,522 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F970>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:50,522 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F970>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:50,523 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F970>)
2025-02-22 12:48:50,523 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F970>) completed
2025-02-22 12:48:50,523 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFDF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:48:50,524 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFDF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:48:50,524 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFDF40>)
2025-02-22 12:48:50,524 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFDF40>) completed
2025-02-22 12:48:50,525 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFDF40>)
2025-02-22 12:48:50,525 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFDF40>) completed
2025-02-22 12:48:50,526 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:50,527 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:48:50,644 - root - WARNING - Обнаружен невалидный file_id, отправляем локальный файл
2025-02-22 12:48:52,170 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31A160>
2025-02-22 12:48:52,171 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31A160> completed
2025-02-22 12:48:52,172 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E5C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:52,173 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E5C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:52,174 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E5C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:52,174 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E5C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:52,178 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01E5C0>)
2025-02-22 12:48:52,178 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01E5C0>) completed
2025-02-22 12:48:52,179 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF9E40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:48:52,188 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF9E40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:48:52,189 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF9E40>)
2025-02-22 12:48:52,189 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF9E40>) completed
2025-02-22 12:48:52,190 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF9E40>)
2025-02-22 12:48:52,191 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF9E40>) completed
2025-02-22 12:48:52,193 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D01E5C0>)
2025-02-22 12:48:52,200 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D01E5C0>) completed
2025-02-22 12:48:52,201 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E5C0>)
2025-02-22 12:48:52,201 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E5C0>) completed
2025-02-22 12:48:52,202 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01E5C0>)
2025-02-22 12:48:52,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01E5C0>) completed
2025-02-22 12:48:52,236 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31AC00>
2025-02-22 12:48:52,237 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31AC00> completed
2025-02-22 12:48:52,238 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E7A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:48:52,238 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E7A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:48:52,239 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E7A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:48:52,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D01E7A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:48:52,240 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01E7A0>)
2025-02-22 12:48:52,241 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D01E7A0>) completed
2025-02-22 12:48:52,242 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFA1C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:48:52,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFA1C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:48:52,243 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFA1C0>)
2025-02-22 12:48:52,243 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFA1C0>) completed
2025-02-22 12:48:52,244 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFA1C0>)
2025-02-22 12:48:52,244 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFA1C0>) completed
2025-02-22 12:48:52,246 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:52,246 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:48:52,702 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:48:52,703 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E7A0>)
2025-02-22 12:48:52,703 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E7A0>) completed
2025-02-22 12:48:52,704 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E7A0>)
2025-02-22 12:48:52,704 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D01E7A0>) completed
2025-02-22 12:48:52,705 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01E7A0>)
2025-02-22 12:48:52,706 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D01E7A0>) completed
2025-02-22 12:48:52,706 - aiogram.event - INFO - Update id=142537949 is handled. Duration 547 ms by bot id=6730535750
2025-02-22 12:48:55,552 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 1)
2025-02-22 12:49:00,567 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 2)
2025-02-22 12:49:05,580 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 3)
2025-02-22 12:49:06,010 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F970>)
2025-02-22 12:49:06,011 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F970>) completed
2025-02-22 12:49:06,012 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF9F40>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICsWe5gXLEJ-tNo2xUIzOsdXlSWfS2AAJeYwACA8PJSSVkdODoJfBGNgQ', 8))
2025-02-22 12:49:06,021 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF9F40>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICsWe5gXLEJ-tNo2xUIzOsdXlSWfS2AAJeYwACA8PJSSVkdODoJfBGNgQ', 8)) completed
2025-02-22 12:49:06,023 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF9F40>)
2025-02-22 12:49:06,024 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF9F40>) completed
2025-02-22 12:49:06,027 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D18F970>)
2025-02-22 12:49:06,035 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D18F970>) completed
2025-02-22 12:49:06,037 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F970>)
2025-02-22 12:49:06,038 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F970>) completed
2025-02-22 12:49:06,039 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F970>)
2025-02-22 12:49:06,040 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F970>) completed
2025-02-22 12:49:06,044 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31B9C0>
2025-02-22 12:49:06,047 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31B9C0> completed
2025-02-22 12:49:06,049 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:06,049 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:06,051 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:06,051 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:06,054 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F880>)
2025-02-22 12:49:06,054 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F880>) completed
2025-02-22 12:49:06,056 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFEEC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (8,))
2025-02-22 12:49:06,058 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFEEC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (8,)) completed
2025-02-22 12:49:06,059 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFEEC0>)
2025-02-22 12:49:06,060 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFEEC0>) completed
2025-02-22 12:49:06,061 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFEEC0>)
2025-02-22 12:49:06,062 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFEEC0>) completed
2025-02-22 12:49:06,064 - root - INFO - Обновлен telegram_file_id для Broadcast 8
2025-02-22 12:49:06,065 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:06,067 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F880>)
2025-02-22 12:49:06,068 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F880>) completed
2025-02-22 12:49:06,069 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F880>)
2025-02-22 12:49:06,070 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F880>) completed
2025-02-22 12:49:06,072 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F880>)
2025-02-22 12:49:06,072 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F880>) completed
2025-02-22 12:49:06,075 - aiogram.event - INFO - Update id=142537948 is handled. Duration 15625 ms by bot id=6730535750
2025-02-22 12:49:29,325 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31A3E0>
2025-02-22 12:49:29,327 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31A3E0> completed
2025-02-22 12:49:29,329 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69030>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:29,330 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69030>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:29,331 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69030>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:29,332 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69030>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:29,340 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF69030>)
2025-02-22 12:49:29,341 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF69030>) completed
2025-02-22 12:49:29,342 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFA640>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:49:29,352 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFFA640>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:49:29,353 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFA640>)
2025-02-22 12:49:29,353 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFFA640>) completed
2025-02-22 12:49:29,354 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFA640>)
2025-02-22 12:49:29,354 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFFA640>) completed
2025-02-22 12:49:29,356 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF69030>)
2025-02-22 12:49:29,362 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF69030>) completed
2025-02-22 12:49:29,363 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF69030>)
2025-02-22 12:49:29,363 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF69030>) completed
2025-02-22 12:49:29,364 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF69030>)
2025-02-22 12:49:29,364 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF69030>) completed
2025-02-22 12:49:29,381 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31BBA0>
2025-02-22 12:49:29,382 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31BBA0> completed
2025-02-22 12:49:29,382 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18FF10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:29,382 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18FF10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:29,383 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18FF10>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:29,383 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18FF10>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:29,384 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18FF10>)
2025-02-22 12:49:29,384 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18FF10>) completed
2025-02-22 12:49:29,385 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF9FC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:49:29,385 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF9FC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:49:29,386 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF9FC0>)
2025-02-22 12:49:29,386 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF9FC0>) completed
2025-02-22 12:49:29,387 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF9FC0>)
2025-02-22 12:49:29,387 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF9FC0>) completed
2025-02-22 12:49:29,388 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:29,389 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:49:29,863 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:29,865 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18FF10>)
2025-02-22 12:49:29,866 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18FF10>) completed
2025-02-22 12:49:29,867 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18FF10>)
2025-02-22 12:49:29,868 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18FF10>) completed
2025-02-22 12:49:29,871 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18FF10>)
2025-02-22 12:49:29,872 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18FF10>) completed
2025-02-22 12:49:29,874 - aiogram.event - INFO - Update id=142537950 is handled. Duration 563 ms by bot id=6730535750
2025-02-22 12:49:32,528 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D318220>
2025-02-22 12:49:32,530 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D318220> completed
2025-02-22 12:49:32,532 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69030>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:32,532 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69030>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:32,534 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69030>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:32,534 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69030>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:32,540 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF69030>)
2025-02-22 12:49:32,541 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF69030>) completed
2025-02-22 12:49:32,542 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D2B0340>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:49:32,551 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D2B0340>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:49:32,553 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D2B0340>)
2025-02-22 12:49:32,554 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D2B0340>) completed
2025-02-22 12:49:32,555 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D2B0340>)
2025-02-22 12:49:32,556 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D2B0340>) completed
2025-02-22 12:49:32,558 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF69030>)
2025-02-22 12:49:32,566 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF69030>) completed
2025-02-22 12:49:32,567 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF69030>)
2025-02-22 12:49:32,567 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF69030>) completed
2025-02-22 12:49:32,568 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF69030>)
2025-02-22 12:49:32,569 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF69030>) completed
2025-02-22 12:49:32,598 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31A7A0>
2025-02-22 12:49:32,600 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31A7A0> completed
2025-02-22 12:49:32,601 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18EA70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:32,601 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18EA70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:32,602 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18EA70>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:32,603 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18EA70>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:32,604 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18EA70>)
2025-02-22 12:49:32,604 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18EA70>) completed
2025-02-22 12:49:32,605 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D293C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:49:32,606 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D293C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:49:32,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D293C40>)
2025-02-22 12:49:32,608 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D293C40>) completed
2025-02-22 12:49:32,609 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D293C40>)
2025-02-22 12:49:32,609 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D293C40>) completed
2025-02-22 12:49:32,612 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:32,613 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:49:32,844 - root - WARNING - Обнаружен невалидный file_id, отправляем локальный файл
2025-02-22 12:49:37,609 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 1)
2025-02-22 12:49:42,613 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 2)
2025-02-22 12:49:47,200 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18EA70>)
2025-02-22 12:49:47,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18EA70>) completed
2025-02-22 12:49:47,207 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D293C40>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICtWe5gZuC-MGR-_gAAdcndbme1AT8YwACbmsAAj56yUngHKbwWE01OzYE', 3))
2025-02-22 12:49:47,216 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D293C40>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAICtWe5gZuC-MGR-_gAAdcndbme1AT8YwACbmsAAj56yUngHKbwWE01OzYE', 3)) completed
2025-02-22 12:49:47,218 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D293C40>)
2025-02-22 12:49:47,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D293C40>) completed
2025-02-22 12:49:47,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D18EA70>)
2025-02-22 12:49:47,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401D18EA70>) completed
2025-02-22 12:49:47,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18EA70>)
2025-02-22 12:49:47,232 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18EA70>) completed
2025-02-22 12:49:47,233 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18EA70>)
2025-02-22 12:49:47,233 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18EA70>) completed
2025-02-22 12:49:47,235 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31B2E0>
2025-02-22 12:49:47,236 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31B2E0> completed
2025-02-22 12:49:47,237 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F100>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:47,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F100>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:47,238 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F100>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:47,238 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F100>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:47,239 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F100>)
2025-02-22 12:49:47,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F100>) completed
2025-02-22 12:49:47,240 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D306740>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (3,))
2025-02-22 12:49:47,241 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D306740>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (3,)) completed
2025-02-22 12:49:47,241 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D306740>)
2025-02-22 12:49:47,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D306740>) completed
2025-02-22 12:49:47,242 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D306740>)
2025-02-22 12:49:47,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D306740>) completed
2025-02-22 12:49:47,243 - root - INFO - Обновлен telegram_file_id для Broadcast 3
2025-02-22 12:49:47,244 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:47,245 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F100>)
2025-02-22 12:49:47,245 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F100>) completed
2025-02-22 12:49:47,245 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F100>)
2025-02-22 12:49:47,246 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F100>) completed
2025-02-22 12:49:47,246 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F100>)
2025-02-22 12:49:47,247 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F100>) completed
2025-02-22 12:49:47,247 - aiogram.event - INFO - Update id=142537951 is handled. Duration 14735 ms by bot id=6730535750
2025-02-22 12:49:48,701 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31B560>
2025-02-22 12:49:48,702 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31B560> completed
2025-02-22 12:49:48,704 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:48,704 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:48,705 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:48,705 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF6B880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:48,709 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:49:48,710 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:49:48,711 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF87C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:49:48,718 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF87C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:49:48,719 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF87C0>)
2025-02-22 12:49:48,719 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF87C0>) completed
2025-02-22 12:49:48,720 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF87C0>)
2025-02-22 12:49:48,720 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF87C0>) completed
2025-02-22 12:49:48,722 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:49:48,729 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:49:48,730 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:49:48,731 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:49:48,732 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF6B880>)
2025-02-22 12:49:48,732 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF6B880>) completed
2025-02-22 12:49:48,757 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401CFDACA0>
2025-02-22 12:49:48,758 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401CFDACA0> completed
2025-02-22 12:49:48,758 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F6A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:48,758 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F6A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:48,759 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F6A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:48,759 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18F6A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:48,760 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F6A0>)
2025-02-22 12:49:48,760 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18F6A0>) completed
2025-02-22 12:49:48,761 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF5D40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:49:48,761 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF5D40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:49:48,762 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF5D40>)
2025-02-22 12:49:48,762 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF5D40>) completed
2025-02-22 12:49:48,763 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF5D40>)
2025-02-22 12:49:48,763 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF5D40>) completed
2025-02-22 12:49:48,765 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:48,765 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:49:48,901 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:48,902 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F6A0>)
2025-02-22 12:49:48,903 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F6A0>) completed
2025-02-22 12:49:48,905 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F6A0>)
2025-02-22 12:49:48,906 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18F6A0>) completed
2025-02-22 12:49:48,908 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F6A0>)
2025-02-22 12:49:48,908 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18F6A0>) completed
2025-02-22 12:49:48,910 - aiogram.event - INFO - Update id=142537952 is handled. Duration 218 ms by bot id=6730535750
2025-02-22 12:49:51,296 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31A7A0>
2025-02-22 12:49:51,297 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31A7A0> completed
2025-02-22 12:49:51,299 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69990>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:51,300 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69990>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:51,301 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69990>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:51,301 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401CF69990>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:51,307 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF69990>)
2025-02-22 12:49:51,308 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401CF69990>) completed
2025-02-22 12:49:51,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF4240>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 12:49:51,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401CFF4240>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 12:49:51,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF4240>)
2025-02-22 12:49:51,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401CFF4240>) completed
2025-02-22 12:49:51,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF4240>)
2025-02-22 12:49:51,323 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401CFF4240>) completed
2025-02-22 12:49:51,326 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF69990>)
2025-02-22 12:49:51,335 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002401CF69990>) completed
2025-02-22 12:49:51,337 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF69990>)
2025-02-22 12:49:51,338 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401CF69990>) completed
2025-02-22 12:49:51,339 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF69990>)
2025-02-22 12:49:51,340 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401CF69990>) completed
2025-02-22 12:49:51,379 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002401D31B2E0>
2025-02-22 12:49:51,380 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002401D31B2E0> completed
2025-02-22 12:49:51,381 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18FF10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True)
2025-02-22 12:49:51,381 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18FF10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002401CB1C360>, deterministic=True) completed
2025-02-22 12:49:51,382 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18FF10>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 12:49:51,382 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002401D18FF10>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 12:49:51,383 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18FF10>)
2025-02-22 12:49:51,384 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18FF10>) completed
2025-02-22 12:49:51,384 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D081AC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:49:51,386 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D081AC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:49:51,386 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D081AC0>)
2025-02-22 12:49:51,387 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D081AC0>) completed
2025-02-22 12:49:51,387 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D081AC0>)
2025-02-22 12:49:51,388 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D081AC0>) completed
2025-02-22 12:49:51,391 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:51,391 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:49:51,516 - root - WARNING - Обнаружен невалидный file_id, отправляем локальный файл
2025-02-22 12:49:51,517 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 12:49:51,518 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 147, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 117, in _send_local_file
    audio=self._file_manager.get_file(),
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 12:49:52,009 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:52,011 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18FF10>)
2025-02-22 12:49:52,011 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002401D18FF10>) completed
2025-02-22 12:49:52,012 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D081AC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 12:49:52,013 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002401D081AC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 12:49:52,013 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D081AC0>)
2025-02-22 12:49:52,014 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002401D081AC0>) completed
2025-02-22 12:49:52,014 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D081AC0>)
2025-02-22 12:49:52,015 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002401D081AC0>) completed
2025-02-22 12:49:52,018 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:52,019 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 12:49:52,180 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 12:49:52,181 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18FF10>)
2025-02-22 12:49:52,183 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18FF10>) completed
2025-02-22 12:49:52,185 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18FF10>)
2025-02-22 12:49:52,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002401D18FF10>) completed
2025-02-22 12:49:52,188 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18FF10>)
2025-02-22 12:49:52,189 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002401D18FF10>) completed
2025-02-22 12:49:52,191 - aiogram.event - INFO - Update id=142537953 is handled. Duration 906 ms by bot id=6730535750
2025-02-22 13:02:50,645 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 13:02:50,901 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 13:02:50,905 - root - INFO - Бот остановлен...
2025-02-22 13:02:51,135 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x000002401D3DBB60>
2025-02-22 13:02:59,498 - root - INFO - Инициализация бота...
2025-02-22 13:02:59,499 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 13:03:00,222 - root - INFO - Запуск бота...
2025-02-22 13:03:00,653 - aiogram.dispatcher - INFO - Start polling
2025-02-22 13:03:00,769 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 13:03:02,683 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001BE376FC720>
2025-02-22 13:03:02,684 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001BE376FC720> completed
2025-02-22 13:03:02,685 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BE374DB790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001BE370504A0>, deterministic=True)
2025-02-22 13:03:02,685 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BE374DB790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001BE370504A0>, deterministic=True) completed
2025-02-22 13:03:02,686 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BE374DB790>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 13:03:02,686 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BE374DB790>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 13:03:02,686 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE374DB790>)
2025-02-22 13:03:02,686 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE374DB790>) completed
2025-02-22 13:03:02,687 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE37526140>, 'PRAGMA read_uncommitted', [])
2025-02-22 13:03:02,687 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE37526140>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 13:03:02,688 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE37526140>)
2025-02-22 13:03:02,688 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE37526140>) completed
2025-02-22 13:03:02,688 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE37526140>)
2025-02-22 13:03:02,688 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE37526140>) completed
2025-02-22 13:03:02,689 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BE374DB790>)
2025-02-22 13:03:02,689 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BE374DB790>) completed
2025-02-22 13:03:02,694 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE374DB790>)
2025-02-22 13:03:02,695 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE374DB790>) completed
2025-02-22 13:03:02,695 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE375BABC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 13:03:02,702 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE375BABC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 13:03:02,703 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE375BABC0>)
2025-02-22 13:03:02,703 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE375BABC0>) completed
2025-02-22 13:03:02,703 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE375BABC0>)
2025-02-22 13:03:02,703 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE375BABC0>) completed
2025-02-22 13:03:02,705 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001BE374DB790>)
2025-02-22 13:03:02,709 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001BE374DB790>) completed
2025-02-22 13:03:02,710 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BE374DB790>)
2025-02-22 13:03:02,710 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BE374DB790>) completed
2025-02-22 13:03:02,710 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BE374DB790>)
2025-02-22 13:03:02,710 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BE374DB790>) completed
2025-02-22 13:03:02,729 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001BE37712520>
2025-02-22 13:03:02,731 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001BE37712520> completed
2025-02-22 13:03:02,731 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BE377244F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001BE370504A0>, deterministic=True)
2025-02-22 13:03:02,731 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BE377244F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001BE370504A0>, deterministic=True) completed
2025-02-22 13:03:02,732 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BE377244F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 13:03:02,732 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BE377244F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 13:03:02,734 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:02,735 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:02,735 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:02,735 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:02,736 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:02,736 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:02,736 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:02,736 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:02,738 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:02,738 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:02,738 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:02,738 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:02,739 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:02,739 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:02,739 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:02,739 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:02,742 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:02,742 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:03,112 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:03,113 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:03,113 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:03,471 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:03,473 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:03,473 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:03,474 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:03,474 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:03,475 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:03,475 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:03,476 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:03,476 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:03,477 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:03,477 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:03,478 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:03,479 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:03,479 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:03,479 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:03,480 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:03,480 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:03,483 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:03,484 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:03,671 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:03,672 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:03,673 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:03,936 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:03,938 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:03,938 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:03,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:03,940 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:03,941 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:03,942 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:03,943 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:03,943 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:03,946 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:03,946 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:03,947 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:03,948 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:03,949 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:03,949 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:03,950 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:03,950 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:03,953 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:03,954 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:04,051 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:04,051 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:04,051 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:04,330 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:04,331 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:04,332 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:04,332 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:04,332 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:04,333 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,333 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,333 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,333 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,335 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:04,335 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:04,335 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:04,335 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:04,336 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,336 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,337 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,337 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,338 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:04,338 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:04,453 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:04,454 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:04,454 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:04,622 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:04,623 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:04,623 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:04,624 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:04,624 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:04,625 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,625 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,625 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,625 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,627 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:04,627 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:04,627 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:04,628 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:04,628 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,629 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,629 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,629 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,632 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:04,632 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:04,735 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:04,735 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:04,736 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:04,878 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:04,882 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:04,884 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:04,885 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:04,886 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:04,887 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,887 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,889 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,891 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,894 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:04,894 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:04,896 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:04,897 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:04,897 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,899 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,899 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:04,899 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:04,902 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:04,902 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:05,005 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:05,005 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:05,006 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:05,136 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:05,138 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:05,138 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:05,139 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:05,139 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:05,141 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,142 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,142 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,142 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,143 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:05,144 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:05,144 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:05,144 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:05,145 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,145 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,145 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,145 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,148 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:05,149 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:05,246 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:05,246 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:05,246 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:05,380 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:05,383 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:05,383 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:05,385 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:05,386 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:05,387 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,387 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,388 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,388 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,391 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:05,391 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:05,392 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:05,393 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:05,394 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,395 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,395 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,396 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,401 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:05,402 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:05,530 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:05,531 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:05,531 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:05,676 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:05,678 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:05,679 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:05,681 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:05,684 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:05,686 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,686 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,687 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,688 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,691 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:05,692 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:05,693 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:05,695 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:05,696 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,697 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,700 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,701 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,705 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:05,706 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:05,817 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:05,819 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:05,819 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:05,951 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:05,953 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:05,953 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:05,954 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:05,954 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:05,955 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,955 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,956 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,956 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,958 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:05,958 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:05,959 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:05,959 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:05,960 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,961 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,961 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:05,961 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:05,965 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:05,966 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:06,059 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:06,060 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:06,060 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:06,305 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:06,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:06,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:06,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:06,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:06,307 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,307 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,308 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,308 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:06,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:06,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:06,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:06,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,310 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,310 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,311 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:06,311 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:06,423 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:06,424 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:06,425 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:06,572 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:06,574 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:06,574 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:06,575 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:06,576 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:06,576 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,577 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,577 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,577 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,579 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:06,579 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:06,580 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:06,580 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:06,581 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,581 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,582 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,582 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,584 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:06,585 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:06,707 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:06,708 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:06,708 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:06,852 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:06,854 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:06,854 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:06,854 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:06,855 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:06,856 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,857 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,857 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:06,859 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:06,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:06,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:06,860 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,861 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:06,861 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:06,863 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:06,864 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:07,066 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:07,067 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:07,067 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:07,203 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:07,204 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:07,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:07,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:07,205 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:07,206 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,207 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,207 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,208 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:07,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:07,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:07,210 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:07,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,211 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,211 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,211 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,214 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:07,215 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:07,323 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:07,324 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:07,325 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:07,554 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:07,557 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:07,557 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:07,558 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:07,559 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:07,561 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,562 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,565 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,566 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,568 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:07,568 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:07,569 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:07,569 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:07,569 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,570 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,570 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,570 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,572 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:07,573 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:07,679 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:07,679 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:07,680 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:07,861 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:07,863 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:07,864 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:07,866 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:07,866 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:07,868 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,868 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,868 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,869 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,870 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:07,870 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:07,871 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:07,871 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:07,872 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,872 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,872 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:07,873 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:07,874 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:07,874 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:07,984 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:07,984 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:07,985 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:08,182 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:08,183 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:08,183 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:08,183 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:08,184 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:08,184 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,184 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,185 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,185 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,186 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:08,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:08,186 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:08,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:08,187 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,187 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,187 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,187 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,189 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:08,189 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:08,284 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:08,284 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:08,285 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:08,527 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:08,528 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:08,528 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:08,528 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:08,529 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:08,529 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,530 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,530 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,530 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,531 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:08,532 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:08,532 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:08,532 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:08,533 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,533 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,533 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,533 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,535 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:08,535 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:08,653 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:03:08,655 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:03:08,656 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:03:08,832 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:08,834 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:08,834 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:08,835 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:08,835 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:08,836 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,836 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,838 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:08,838 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:08,839 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:03:08,839 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:03:08,840 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,840 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,840 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:08,840 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:08,843 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:08,844 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:03:08,867 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 13:03:08,953 - root - ERROR - HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)
2025-02-22 13:03:08,980 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:03:08,981 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-105' coro=<ChatActionSender._worker() done, defined at C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\utils\chat_action.py:69> exception=TelegramNetworkError('HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)')>
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\sslproto.py", line 651, in _do_shutdown
    self._sslobj.unwrap()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 920, in unwrap
    return self._sslobj.shutdown()
           ^^^^^^^^^^^^^^^^^^^^^^^
ssl.SSLError: [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 181, in make_request
    async with session.post(
               ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client.py", line 1360, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client.py", line 690, in _request
    await resp.start(conn)
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client_reqrep.py", line 1059, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\streams.py", line 644, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\utils\chat_action.py", line 88, in _worker
    await self.bot.send_chat_action(
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2419, in send_chat_action
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 188, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)
2025-02-22 13:03:09,089 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:09,089 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:09,089 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 13:03:09,089 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BE3761FF40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 13:03:09,090 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>)
2025-02-22 13:03:09,090 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 13:03:09,091 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BE3761FF40>) completed
2025-02-22 13:03:09,093 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BE377244F0>)
2025-02-22 13:03:09,094 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BE377244F0>) completed
2025-02-22 13:03:09,095 - aiogram.event - INFO - Update id=142537954 is not handled. Duration 6422 ms by bot id=6730535750
2025-02-22 13:03:09,096 - root - INFO - Бот остановлен...
2025-02-22 13:03:09,281 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x000001BE37829700>
2025-02-22 13:03:09,281 - asyncio - ERROR - Unclosed connector
connections: ['[(<aiohttp.client_proto.ResponseHandler object at 0x000001BE37594B90>, 13304.609)]']
connector: <aiohttp.connector.TCPConnector object at 0x000001BE375E64B0>
2025-02-22 13:05:25,292 - root - INFO - Инициализация бота...
2025-02-22 13:05:25,293 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 13:05:25,908 - root - INFO - Запуск бота...
2025-02-22 13:05:26,341 - aiogram.dispatcher - INFO - Start polling
2025-02-22 13:05:26,458 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 13:05:32,162 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000020411B9C7C0>
2025-02-22 13:05:32,162 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000020411B9C7C0> completed
2025-02-22 13:05:32,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002041197B790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000204114EC540>, deterministic=True)
2025-02-22 13:05:32,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002041197B790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000204114EC540>, deterministic=True) completed
2025-02-22 13:05:32,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002041197B790>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 13:05:32,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002041197B790>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 13:05:32,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002041197B790>)
2025-02-22 13:05:32,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002041197B790>) completed
2025-02-22 13:05:32,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000204119CA1C0>, 'PRAGMA read_uncommitted', [])
2025-02-22 13:05:32,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000204119CA1C0>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 13:05:32,166 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000204119CA1C0>)
2025-02-22 13:05:32,166 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000204119CA1C0>) completed
2025-02-22 13:05:32,166 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000204119CA1C0>)
2025-02-22 13:05:32,166 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000204119CA1C0>) completed
2025-02-22 13:05:32,166 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002041197B790>)
2025-02-22 13:05:32,167 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002041197B790>) completed
2025-02-22 13:05:32,171 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002041197B790>)
2025-02-22 13:05:32,171 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002041197B790>) completed
2025-02-22 13:05:32,171 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020411A599C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 13:05:32,178 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020411A599C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 13:05:32,178 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020411A599C0>)
2025-02-22 13:05:32,179 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020411A599C0>) completed
2025-02-22 13:05:32,179 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020411A599C0>)
2025-02-22 13:05:32,179 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020411A599C0>) completed
2025-02-22 13:05:32,180 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002041197B790>)
2025-02-22 13:05:32,184 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002041197B790>) completed
2025-02-22 13:05:32,185 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002041197B790>)
2025-02-22 13:05:32,185 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002041197B790>) completed
2025-02-22 13:05:32,185 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002041197B790>)
2025-02-22 13:05:32,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002041197B790>) completed
2025-02-22 13:05:32,205 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000020411BB25C0>
2025-02-22 13:05:32,205 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000020411BB25C0> completed
2025-02-22 13:05:32,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000020411BC45E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000204114EC540>, deterministic=True)
2025-02-22 13:05:32,205 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000020411BC45E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000204114EC540>, deterministic=True) completed
2025-02-22 13:05:32,206 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000020411BC45E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 13:05:32,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000020411BC45E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 13:05:32,208 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000020411BC45E0>)
2025-02-22 13:05:32,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000020411BC45E0>) completed
2025-02-22 13:05:32,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020411A53C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:05:32,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020411A53C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:05:32,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020411A53C40>)
2025-02-22 13:05:32,210 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020411A53C40>) completed
2025-02-22 13:05:32,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020411A53C40>)
2025-02-22 13:05:32,210 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020411A53C40>) completed
2025-02-22 13:05:32,212 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:05:32,212 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:05:32,578 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:05:32,578 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:05:32,579 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:05:32,938 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:05:32,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000020411BC45E0>)
2025-02-22 13:05:32,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000020411BC45E0>) completed
2025-02-22 13:05:32,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000020411BC45E0>)
2025-02-22 13:05:32,940 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000020411BC45E0>) completed
2025-02-22 13:05:32,940 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020411BC45E0>)
2025-02-22 13:05:32,940 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020411BC45E0>) completed
2025-02-22 13:05:32,941 - aiogram.event - INFO - Update id=142537955 is handled. Duration 781 ms by bot id=6730535750
2025-02-22 13:11:45,832 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 13:11:46,088 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 13:11:46,090 - root - INFO - Бот остановлен...
2025-02-22 13:11:46,292 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x000002041174E5D0>
2025-02-22 13:11:53,445 - root - INFO - Инициализация бота...
2025-02-22 13:11:53,446 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 13:11:54,061 - root - INFO - Запуск бота...
2025-02-22 13:11:54,516 - aiogram.dispatcher - INFO - Start polling
2025-02-22 13:11:54,666 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 13:11:55,520 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000025371FEC7C0>
2025-02-22 13:11:55,521 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000025371FEC7C0> completed
2025-02-22 13:11:55,522 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000025371DCB880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002537193C540>, deterministic=True)
2025-02-22 13:11:55,522 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000025371DCB880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002537193C540>, deterministic=True) completed
2025-02-22 13:11:55,522 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000025371DCB880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 13:11:55,523 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000025371DCB880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 13:11:55,523 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000025371DCB880>)
2025-02-22 13:11:55,523 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000025371DCB880>) completed
2025-02-22 13:11:55,524 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000025371E1A1C0>, 'PRAGMA read_uncommitted', [])
2025-02-22 13:11:55,524 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000025371E1A1C0>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 13:11:55,524 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000025371E1A1C0>)
2025-02-22 13:11:55,525 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000025371E1A1C0>) completed
2025-02-22 13:11:55,525 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000025371E1A1C0>)
2025-02-22 13:11:55,525 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000025371E1A1C0>) completed
2025-02-22 13:11:55,525 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000025371DCB880>)
2025-02-22 13:11:55,525 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000025371DCB880>) completed
2025-02-22 13:11:55,530 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000025371DCB880>)
2025-02-22 13:11:55,530 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000025371DCB880>) completed
2025-02-22 13:11:55,530 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000025371EA99C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 13:11:55,537 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000025371EA99C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 13:11:55,537 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000025371EA99C0>)
2025-02-22 13:11:55,538 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000025371EA99C0>) completed
2025-02-22 13:11:55,538 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000025371EA99C0>)
2025-02-22 13:11:55,538 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000025371EA99C0>) completed
2025-02-22 13:11:55,539 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000025371DCB880>)
2025-02-22 13:11:55,543 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000025371DCB880>) completed
2025-02-22 13:11:55,544 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000025371DCB880>)
2025-02-22 13:11:55,544 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000025371DCB880>) completed
2025-02-22 13:11:55,544 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000025371DCB880>)
2025-02-22 13:11:55,544 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000025371DCB880>) completed
2025-02-22 13:11:55,563 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000253720025C0>
2025-02-22 13:11:55,564 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000253720025C0> completed
2025-02-22 13:11:55,564 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000253720146D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002537193C540>, deterministic=True)
2025-02-22 13:11:55,564 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000253720146D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002537193C540>, deterministic=True) completed
2025-02-22 13:11:55,565 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000253720146D0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 13:11:55,565 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000253720146D0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 13:11:55,567 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000253720146D0>)
2025-02-22 13:11:55,568 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000253720146D0>) completed
2025-02-22 13:11:55,568 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000025371EB7C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 13:11:55,568 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000025371EB7C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 13:11:55,569 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000025371EB7C40>)
2025-02-22 13:11:55,569 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000025371EB7C40>) completed
2025-02-22 13:11:55,569 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000025371EB7C40>)
2025-02-22 13:11:55,569 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000025371EB7C40>) completed
2025-02-22 13:11:55,571 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:11:55,571 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 13:11:55,943 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 13:11:55,944 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 13:11:55,944 - root - ERROR - Файл 1177.mp3 (ID 1) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 78, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 101, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 149, in send_audio
    return await self._sender.send(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 91, in send
    return await self._send_local_file(chat_id, use_alt, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 115, in _send_local_file
    file_path = self._file_manager.get_file()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 29, in get_file
    raise AudioFileNotFound
src.core.exceptions.AudioFileNotFound
2025-02-22 13:11:56,418 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 13:11:56,419 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000253720146D0>)
2025-02-22 13:11:56,419 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000253720146D0>) completed
2025-02-22 13:11:56,420 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000253720146D0>)
2025-02-22 13:11:56,421 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000253720146D0>) completed
2025-02-22 13:11:56,422 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000253720146D0>)
2025-02-22 13:11:56,422 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000253720146D0>) completed
2025-02-22 13:11:56,423 - aiogram.event - INFO - Update id=142537956 is handled. Duration 906 ms by bot id=6730535750
2025-02-22 13:55:52,234 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-02-22 13:55:52,235 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 6730535750)
2025-02-22 13:55:53,257 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:55:53,258 - aiogram.dispatcher - WARNING - Sleep for 1.248009 seconds and try again... (tryings = 1, bot id = 6730535750)
2025-02-22 13:55:54,529 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:55:54,529 - aiogram.dispatcher - WARNING - Sleep for 1.663869 seconds and try again... (tryings = 2, bot id = 6730535750)
2025-02-22 13:55:56,210 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:55:56,210 - aiogram.dispatcher - WARNING - Sleep for 2.152055 seconds and try again... (tryings = 3, bot id = 6730535750)
2025-02-22 13:55:58,375 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:55:58,375 - aiogram.dispatcher - WARNING - Sleep for 2.773081 seconds and try again... (tryings = 4, bot id = 6730535750)
2025-02-22 13:56:01,154 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:01,155 - aiogram.dispatcher - WARNING - Sleep for 3.590038 seconds and try again... (tryings = 5, bot id = 6730535750)
2025-02-22 13:56:04,766 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:04,767 - aiogram.dispatcher - WARNING - Sleep for 4.593048 seconds and try again... (tryings = 6, bot id = 6730535750)
2025-02-22 13:56:09,374 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:09,375 - aiogram.dispatcher - WARNING - Sleep for 5.195615 seconds and try again... (tryings = 7, bot id = 6730535750)
2025-02-22 13:56:14,589 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:14,589 - aiogram.dispatcher - WARNING - Sleep for 5.014508 seconds and try again... (tryings = 8, bot id = 6730535750)
2025-02-22 13:56:19,627 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:19,628 - aiogram.dispatcher - WARNING - Sleep for 4.991478 seconds and try again... (tryings = 9, bot id = 6730535750)
2025-02-22 13:56:24,641 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:24,641 - aiogram.dispatcher - WARNING - Sleep for 5.016715 seconds and try again... (tryings = 10, bot id = 6730535750)
2025-02-22 13:56:29,678 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:29,678 - aiogram.dispatcher - WARNING - Sleep for 4.933330 seconds and try again... (tryings = 11, bot id = 6730535750)
2025-02-22 13:56:34,634 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:34,635 - aiogram.dispatcher - WARNING - Sleep for 5.012412 seconds and try again... (tryings = 12, bot id = 6730535750)
2025-02-22 13:56:39,663 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:39,664 - aiogram.dispatcher - WARNING - Sleep for 5.092846 seconds and try again... (tryings = 13, bot id = 6730535750)
2025-02-22 13:56:44,778 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:44,779 - aiogram.dispatcher - WARNING - Sleep for 4.885944 seconds and try again... (tryings = 14, bot id = 6730535750)
2025-02-22 13:56:49,681 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:49,682 - aiogram.dispatcher - WARNING - Sleep for 4.964958 seconds and try again... (tryings = 15, bot id = 6730535750)
2025-02-22 13:56:54,658 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:54,659 - aiogram.dispatcher - WARNING - Sleep for 5.062128 seconds and try again... (tryings = 16, bot id = 6730535750)
2025-02-22 13:56:59,741 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:56:59,742 - aiogram.dispatcher - WARNING - Sleep for 5.085844 seconds and try again... (tryings = 17, bot id = 6730535750)
2025-02-22 13:57:04,851 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:04,853 - aiogram.dispatcher - WARNING - Sleep for 5.060474 seconds and try again... (tryings = 18, bot id = 6730535750)
2025-02-22 13:57:09,932 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:09,933 - aiogram.dispatcher - WARNING - Sleep for 4.972848 seconds and try again... (tryings = 19, bot id = 6730535750)
2025-02-22 13:57:14,927 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:14,928 - aiogram.dispatcher - WARNING - Sleep for 4.907641 seconds and try again... (tryings = 20, bot id = 6730535750)
2025-02-22 13:57:19,848 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:19,849 - aiogram.dispatcher - WARNING - Sleep for 4.834015 seconds and try again... (tryings = 21, bot id = 6730535750)
2025-02-22 13:57:24,704 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:24,705 - aiogram.dispatcher - WARNING - Sleep for 5.047719 seconds and try again... (tryings = 22, bot id = 6730535750)
2025-02-22 13:57:29,765 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:29,765 - aiogram.dispatcher - WARNING - Sleep for 4.948677 seconds and try again... (tryings = 23, bot id = 6730535750)
2025-02-22 13:57:34,733 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:34,734 - aiogram.dispatcher - WARNING - Sleep for 4.931322 seconds and try again... (tryings = 24, bot id = 6730535750)
2025-02-22 13:57:39,689 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:39,690 - aiogram.dispatcher - WARNING - Sleep for 5.012791 seconds and try again... (tryings = 25, bot id = 6730535750)
2025-02-22 13:57:44,714 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:44,715 - aiogram.dispatcher - WARNING - Sleep for 4.977347 seconds and try again... (tryings = 26, bot id = 6730535750)
2025-02-22 13:57:49,714 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:49,715 - aiogram.dispatcher - WARNING - Sleep for 5.097399 seconds and try again... (tryings = 27, bot id = 6730535750)
2025-02-22 13:57:54,832 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:54,834 - aiogram.dispatcher - WARNING - Sleep for 4.963151 seconds and try again... (tryings = 28, bot id = 6730535750)
2025-02-22 13:57:59,818 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:57:59,819 - aiogram.dispatcher - WARNING - Sleep for 4.921766 seconds and try again... (tryings = 29, bot id = 6730535750)
2025-02-22 13:58:04,750 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:04,750 - aiogram.dispatcher - WARNING - Sleep for 4.975701 seconds and try again... (tryings = 30, bot id = 6730535750)
2025-02-22 13:58:09,735 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:09,735 - aiogram.dispatcher - WARNING - Sleep for 5.045291 seconds and try again... (tryings = 31, bot id = 6730535750)
2025-02-22 13:58:14,795 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:14,795 - aiogram.dispatcher - WARNING - Sleep for 5.003230 seconds and try again... (tryings = 32, bot id = 6730535750)
2025-02-22 13:58:19,815 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:19,816 - aiogram.dispatcher - WARNING - Sleep for 4.995783 seconds and try again... (tryings = 33, bot id = 6730535750)
2025-02-22 13:58:24,827 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:24,828 - aiogram.dispatcher - WARNING - Sleep for 4.894204 seconds and try again... (tryings = 34, bot id = 6730535750)
2025-02-22 13:58:29,735 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:29,737 - aiogram.dispatcher - WARNING - Sleep for 5.106679 seconds and try again... (tryings = 35, bot id = 6730535750)
2025-02-22 13:58:34,867 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:34,867 - aiogram.dispatcher - WARNING - Sleep for 4.983454 seconds and try again... (tryings = 36, bot id = 6730535750)
2025-02-22 13:58:39,866 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:39,867 - aiogram.dispatcher - WARNING - Sleep for 5.047550 seconds and try again... (tryings = 37, bot id = 6730535750)
2025-02-22 13:58:44,932 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:44,932 - aiogram.dispatcher - WARNING - Sleep for 5.042538 seconds and try again... (tryings = 38, bot id = 6730535750)
2025-02-22 13:58:49,996 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:49,997 - aiogram.dispatcher - WARNING - Sleep for 4.897484 seconds and try again... (tryings = 39, bot id = 6730535750)
2025-02-22 13:58:54,914 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:54,914 - aiogram.dispatcher - WARNING - Sleep for 4.946534 seconds and try again... (tryings = 40, bot id = 6730535750)
2025-02-22 13:58:59,880 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:58:59,880 - aiogram.dispatcher - WARNING - Sleep for 5.087575 seconds and try again... (tryings = 41, bot id = 6730535750)
2025-02-22 13:59:04,987 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:04,988 - aiogram.dispatcher - WARNING - Sleep for 4.987411 seconds and try again... (tryings = 42, bot id = 6730535750)
2025-02-22 13:59:09,989 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:09,990 - aiogram.dispatcher - WARNING - Sleep for 5.009217 seconds and try again... (tryings = 43, bot id = 6730535750)
2025-02-22 13:59:15,007 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:15,008 - aiogram.dispatcher - WARNING - Sleep for 5.024969 seconds and try again... (tryings = 44, bot id = 6730535750)
2025-02-22 13:59:20,052 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:20,052 - aiogram.dispatcher - WARNING - Sleep for 4.886885 seconds and try again... (tryings = 45, bot id = 6730535750)
2025-02-22 13:59:24,956 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:24,957 - aiogram.dispatcher - WARNING - Sleep for 4.874655 seconds and try again... (tryings = 46, bot id = 6730535750)
2025-02-22 13:59:29,848 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:29,848 - aiogram.dispatcher - WARNING - Sleep for 5.210336 seconds and try again... (tryings = 47, bot id = 6730535750)
2025-02-22 13:59:35,080 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:35,081 - aiogram.dispatcher - WARNING - Sleep for 5.157982 seconds and try again... (tryings = 48, bot id = 6730535750)
2025-02-22 13:59:40,258 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:40,259 - aiogram.dispatcher - WARNING - Sleep for 5.005718 seconds and try again... (tryings = 49, bot id = 6730535750)
2025-02-22 13:59:45,285 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:45,286 - aiogram.dispatcher - WARNING - Sleep for 5.156922 seconds and try again... (tryings = 50, bot id = 6730535750)
2025-02-22 13:59:50,450 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:50,450 - aiogram.dispatcher - WARNING - Sleep for 5.018920 seconds and try again... (tryings = 51, bot id = 6730535750)
2025-02-22 13:59:55,477 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 13:59:55,478 - aiogram.dispatcher - WARNING - Sleep for 5.037684 seconds and try again... (tryings = 52, bot id = 6730535750)
2025-02-22 14:00:00,537 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:00,538 - aiogram.dispatcher - WARNING - Sleep for 4.873769 seconds and try again... (tryings = 53, bot id = 6730535750)
2025-02-22 14:00:05,427 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:05,428 - aiogram.dispatcher - WARNING - Sleep for 4.976424 seconds and try again... (tryings = 54, bot id = 6730535750)
2025-02-22 14:00:10,422 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:10,423 - aiogram.dispatcher - WARNING - Sleep for 4.868712 seconds and try again... (tryings = 55, bot id = 6730535750)
2025-02-22 14:00:15,309 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:15,309 - aiogram.dispatcher - WARNING - Sleep for 4.944541 seconds and try again... (tryings = 56, bot id = 6730535750)
2025-02-22 14:00:20,257 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:20,257 - aiogram.dispatcher - WARNING - Sleep for 4.989985 seconds and try again... (tryings = 57, bot id = 6730535750)
2025-02-22 14:00:25,258 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:25,258 - aiogram.dispatcher - WARNING - Sleep for 4.992279 seconds and try again... (tryings = 58, bot id = 6730535750)
2025-02-22 14:00:30,266 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:30,266 - aiogram.dispatcher - WARNING - Sleep for 5.123555 seconds and try again... (tryings = 59, bot id = 6730535750)
2025-02-22 14:00:35,399 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:35,399 - aiogram.dispatcher - WARNING - Sleep for 4.952600 seconds and try again... (tryings = 60, bot id = 6730535750)
2025-02-22 14:00:40,361 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:40,362 - aiogram.dispatcher - WARNING - Sleep for 5.072571 seconds and try again... (tryings = 61, bot id = 6730535750)
2025-02-22 14:00:45,453 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:45,454 - aiogram.dispatcher - WARNING - Sleep for 5.119215 seconds and try again... (tryings = 62, bot id = 6730535750)
2025-02-22 14:00:50,581 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:50,582 - aiogram.dispatcher - WARNING - Sleep for 4.981946 seconds and try again... (tryings = 63, bot id = 6730535750)
2025-02-22 14:00:55,583 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:00:55,584 - aiogram.dispatcher - WARNING - Sleep for 5.145140 seconds and try again... (tryings = 64, bot id = 6730535750)
2025-02-22 14:01:00,750 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:00,751 - aiogram.dispatcher - WARNING - Sleep for 5.124073 seconds and try again... (tryings = 65, bot id = 6730535750)
2025-02-22 14:01:05,894 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:05,894 - aiogram.dispatcher - WARNING - Sleep for 5.131129 seconds and try again... (tryings = 66, bot id = 6730535750)
2025-02-22 14:01:11,038 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:11,040 - aiogram.dispatcher - WARNING - Sleep for 4.893626 seconds and try again... (tryings = 67, bot id = 6730535750)
2025-02-22 14:01:15,948 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:15,949 - aiogram.dispatcher - WARNING - Sleep for 4.940553 seconds and try again... (tryings = 68, bot id = 6730535750)
2025-02-22 14:01:20,898 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:20,899 - aiogram.dispatcher - WARNING - Sleep for 4.979210 seconds and try again... (tryings = 69, bot id = 6730535750)
2025-02-22 14:01:25,899 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:25,900 - aiogram.dispatcher - WARNING - Sleep for 5.050005 seconds and try again... (tryings = 70, bot id = 6730535750)
2025-02-22 14:01:30,972 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:30,973 - aiogram.dispatcher - WARNING - Sleep for 4.953083 seconds and try again... (tryings = 71, bot id = 6730535750)
2025-02-22 14:01:35,944 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:35,945 - aiogram.dispatcher - WARNING - Sleep for 4.912484 seconds and try again... (tryings = 72, bot id = 6730535750)
2025-02-22 14:01:40,876 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:40,876 - aiogram.dispatcher - WARNING - Sleep for 4.852548 seconds and try again... (tryings = 73, bot id = 6730535750)
2025-02-22 14:01:45,741 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:45,741 - aiogram.dispatcher - WARNING - Sleep for 4.972024 seconds and try again... (tryings = 74, bot id = 6730535750)
2025-02-22 14:01:50,738 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:50,738 - aiogram.dispatcher - WARNING - Sleep for 4.859491 seconds and try again... (tryings = 75, bot id = 6730535750)
2025-02-22 14:01:55,611 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:01:55,611 - aiogram.dispatcher - WARNING - Sleep for 5.086978 seconds and try again... (tryings = 76, bot id = 6730535750)
2025-02-22 14:02:00,712 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:00,712 - aiogram.dispatcher - WARNING - Sleep for 5.050837 seconds and try again... (tryings = 77, bot id = 6730535750)
2025-02-22 14:02:05,773 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:05,773 - aiogram.dispatcher - WARNING - Sleep for 5.000337 seconds and try again... (tryings = 78, bot id = 6730535750)
2025-02-22 14:02:10,777 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:10,777 - aiogram.dispatcher - WARNING - Sleep for 5.183252 seconds and try again... (tryings = 79, bot id = 6730535750)
2025-02-22 14:02:15,976 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:15,978 - aiogram.dispatcher - WARNING - Sleep for 5.099942 seconds and try again... (tryings = 80, bot id = 6730535750)
2025-02-22 14:02:21,098 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:21,098 - aiogram.dispatcher - WARNING - Sleep for 5.044561 seconds and try again... (tryings = 81, bot id = 6730535750)
2025-02-22 14:02:26,145 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:26,145 - aiogram.dispatcher - WARNING - Sleep for 5.085173 seconds and try again... (tryings = 82, bot id = 6730535750)
2025-02-22 14:02:31,246 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:31,247 - aiogram.dispatcher - WARNING - Sleep for 4.860127 seconds and try again... (tryings = 83, bot id = 6730535750)
2025-02-22 14:02:36,120 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:36,121 - aiogram.dispatcher - WARNING - Sleep for 4.828123 seconds and try again... (tryings = 84, bot id = 6730535750)
2025-02-22 14:02:40,966 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:40,967 - aiogram.dispatcher - WARNING - Sleep for 4.928505 seconds and try again... (tryings = 85, bot id = 6730535750)
2025-02-22 14:02:45,918 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:45,919 - aiogram.dispatcher - WARNING - Sleep for 5.047763 seconds and try again... (tryings = 86, bot id = 6730535750)
2025-02-22 14:02:50,983 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:50,983 - aiogram.dispatcher - WARNING - Sleep for 4.739376 seconds and try again... (tryings = 87, bot id = 6730535750)
2025-02-22 14:02:55,737 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:02:55,738 - aiogram.dispatcher - WARNING - Sleep for 4.875856 seconds and try again... (tryings = 88, bot id = 6730535750)
2025-02-22 14:03:00,628 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:00,628 - aiogram.dispatcher - WARNING - Sleep for 4.989448 seconds and try again... (tryings = 89, bot id = 6730535750)
2025-02-22 14:03:05,628 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:05,629 - aiogram.dispatcher - WARNING - Sleep for 4.824263 seconds and try again... (tryings = 90, bot id = 6730535750)
2025-02-22 14:03:10,469 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:10,469 - aiogram.dispatcher - WARNING - Sleep for 4.931086 seconds and try again... (tryings = 91, bot id = 6730535750)
2025-02-22 14:03:15,412 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:15,412 - aiogram.dispatcher - WARNING - Sleep for 5.133249 seconds and try again... (tryings = 92, bot id = 6730535750)
2025-02-22 14:03:20,564 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:20,564 - aiogram.dispatcher - WARNING - Sleep for 5.007655 seconds and try again... (tryings = 93, bot id = 6730535750)
2025-02-22 14:03:25,582 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:25,583 - aiogram.dispatcher - WARNING - Sleep for 5.012711 seconds and try again... (tryings = 94, bot id = 6730535750)
2025-02-22 14:03:30,608 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:30,609 - aiogram.dispatcher - WARNING - Sleep for 5.162560 seconds and try again... (tryings = 95, bot id = 6730535750)
2025-02-22 14:03:35,781 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:35,782 - aiogram.dispatcher - WARNING - Sleep for 5.008368 seconds and try again... (tryings = 96, bot id = 6730535750)
2025-02-22 14:03:40,803 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:40,803 - aiogram.dispatcher - WARNING - Sleep for 4.931477 seconds and try again... (tryings = 97, bot id = 6730535750)
2025-02-22 14:03:45,750 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:45,751 - aiogram.dispatcher - WARNING - Sleep for 5.177281 seconds and try again... (tryings = 98, bot id = 6730535750)
2025-02-22 14:03:50,938 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:50,938 - aiogram.dispatcher - WARNING - Sleep for 4.809505 seconds and try again... (tryings = 99, bot id = 6730535750)
2025-02-22 14:03:55,755 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:03:55,755 - aiogram.dispatcher - WARNING - Sleep for 5.054618 seconds and try again... (tryings = 100, bot id = 6730535750)
2025-02-22 14:04:00,823 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:00,824 - aiogram.dispatcher - WARNING - Sleep for 5.071006 seconds and try again... (tryings = 101, bot id = 6730535750)
2025-02-22 14:04:05,900 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:05,901 - aiogram.dispatcher - WARNING - Sleep for 5.186120 seconds and try again... (tryings = 102, bot id = 6730535750)
2025-02-22 14:04:11,095 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:11,096 - aiogram.dispatcher - WARNING - Sleep for 4.901063 seconds and try again... (tryings = 103, bot id = 6730535750)
2025-02-22 14:04:16,008 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:16,009 - aiogram.dispatcher - WARNING - Sleep for 5.135482 seconds and try again... (tryings = 104, bot id = 6730535750)
2025-02-22 14:04:21,164 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:21,164 - aiogram.dispatcher - WARNING - Sleep for 5.010509 seconds and try again... (tryings = 105, bot id = 6730535750)
2025-02-22 14:04:26,194 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:26,196 - aiogram.dispatcher - WARNING - Sleep for 5.196124 seconds and try again... (tryings = 106, bot id = 6730535750)
2025-02-22 14:04:31,408 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:31,408 - aiogram.dispatcher - WARNING - Sleep for 4.785419 seconds and try again... (tryings = 107, bot id = 6730535750)
2025-02-22 14:04:36,205 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:36,206 - aiogram.dispatcher - WARNING - Sleep for 5.079967 seconds and try again... (tryings = 108, bot id = 6730535750)
2025-02-22 14:04:41,292 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:41,294 - aiogram.dispatcher - WARNING - Sleep for 4.966188 seconds and try again... (tryings = 109, bot id = 6730535750)
2025-02-22 14:04:46,269 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:46,269 - aiogram.dispatcher - WARNING - Sleep for 4.958096 seconds and try again... (tryings = 110, bot id = 6730535750)
2025-02-22 14:04:51,242 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:51,242 - aiogram.dispatcher - WARNING - Sleep for 4.888818 seconds and try again... (tryings = 111, bot id = 6730535750)
2025-02-22 14:04:56,138 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:04:56,139 - aiogram.dispatcher - WARNING - Sleep for 4.836464 seconds and try again... (tryings = 112, bot id = 6730535750)
2025-02-22 14:05:00,995 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:00,996 - aiogram.dispatcher - WARNING - Sleep for 5.059726 seconds and try again... (tryings = 113, bot id = 6730535750)
2025-02-22 14:05:06,072 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:06,073 - aiogram.dispatcher - WARNING - Sleep for 5.129426 seconds and try again... (tryings = 114, bot id = 6730535750)
2025-02-22 14:05:11,221 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:11,222 - aiogram.dispatcher - WARNING - Sleep for 5.107949 seconds and try again... (tryings = 115, bot id = 6730535750)
2025-02-22 14:05:16,340 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:16,341 - aiogram.dispatcher - WARNING - Sleep for 4.964166 seconds and try again... (tryings = 116, bot id = 6730535750)
2025-02-22 14:05:21,320 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:21,321 - aiogram.dispatcher - WARNING - Sleep for 5.117597 seconds and try again... (tryings = 117, bot id = 6730535750)
2025-02-22 14:05:26,456 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:26,456 - aiogram.dispatcher - WARNING - Sleep for 4.922342 seconds and try again... (tryings = 118, bot id = 6730535750)
2025-02-22 14:05:31,392 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:31,393 - aiogram.dispatcher - WARNING - Sleep for 5.118105 seconds and try again... (tryings = 119, bot id = 6730535750)
2025-02-22 14:05:36,519 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:36,519 - aiogram.dispatcher - WARNING - Sleep for 5.086820 seconds and try again... (tryings = 120, bot id = 6730535750)
2025-02-22 14:05:41,621 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:41,622 - aiogram.dispatcher - WARNING - Sleep for 4.968343 seconds and try again... (tryings = 121, bot id = 6730535750)
2025-02-22 14:05:46,601 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:46,601 - aiogram.dispatcher - WARNING - Sleep for 4.846569 seconds and try again... (tryings = 122, bot id = 6730535750)
2025-02-22 14:05:51,458 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:51,458 - aiogram.dispatcher - WARNING - Sleep for 5.131297 seconds and try again... (tryings = 123, bot id = 6730535750)
2025-02-22 14:05:56,595 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:05:56,596 - aiogram.dispatcher - WARNING - Sleep for 4.869250 seconds and try again... (tryings = 124, bot id = 6730535750)
2025-02-22 14:06:01,484 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:01,485 - aiogram.dispatcher - WARNING - Sleep for 4.953795 seconds and try again... (tryings = 125, bot id = 6730535750)
2025-02-22 14:06:06,452 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:06,453 - aiogram.dispatcher - WARNING - Sleep for 5.026029 seconds and try again... (tryings = 126, bot id = 6730535750)
2025-02-22 14:06:11,493 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:11,494 - aiogram.dispatcher - WARNING - Sleep for 4.886257 seconds and try again... (tryings = 127, bot id = 6730535750)
2025-02-22 14:06:16,395 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:16,396 - aiogram.dispatcher - WARNING - Sleep for 4.764895 seconds and try again... (tryings = 128, bot id = 6730535750)
2025-02-22 14:06:21,181 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:21,181 - aiogram.dispatcher - WARNING - Sleep for 4.971208 seconds and try again... (tryings = 129, bot id = 6730535750)
2025-02-22 14:06:26,175 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:26,176 - aiogram.dispatcher - WARNING - Sleep for 5.025154 seconds and try again... (tryings = 130, bot id = 6730535750)
2025-02-22 14:06:31,219 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:31,220 - aiogram.dispatcher - WARNING - Sleep for 4.937116 seconds and try again... (tryings = 131, bot id = 6730535750)
2025-02-22 14:06:36,182 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:36,184 - aiogram.dispatcher - WARNING - Sleep for 5.087984 seconds and try again... (tryings = 132, bot id = 6730535750)
2025-02-22 14:06:41,278 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:41,279 - aiogram.dispatcher - WARNING - Sleep for 4.935975 seconds and try again... (tryings = 133, bot id = 6730535750)
2025-02-22 14:06:46,233 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:46,233 - aiogram.dispatcher - WARNING - Sleep for 5.222532 seconds and try again... (tryings = 134, bot id = 6730535750)
2025-02-22 14:06:51,472 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:51,472 - aiogram.dispatcher - WARNING - Sleep for 4.924272 seconds and try again... (tryings = 135, bot id = 6730535750)
2025-02-22 14:06:56,406 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:06:56,406 - aiogram.dispatcher - WARNING - Sleep for 4.805507 seconds and try again... (tryings = 136, bot id = 6730535750)
2025-02-22 14:07:01,226 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:01,226 - aiogram.dispatcher - WARNING - Sleep for 4.855759 seconds and try again... (tryings = 137, bot id = 6730535750)
2025-02-22 14:07:06,095 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:06,095 - aiogram.dispatcher - WARNING - Sleep for 5.245558 seconds and try again... (tryings = 138, bot id = 6730535750)
2025-02-22 14:07:11,352 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:11,353 - aiogram.dispatcher - WARNING - Sleep for 4.958034 seconds and try again... (tryings = 139, bot id = 6730535750)
2025-02-22 14:07:16,322 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:16,322 - aiogram.dispatcher - WARNING - Sleep for 4.910472 seconds and try again... (tryings = 140, bot id = 6730535750)
2025-02-22 14:07:21,240 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:21,241 - aiogram.dispatcher - WARNING - Sleep for 5.067996 seconds and try again... (tryings = 141, bot id = 6730535750)
2025-02-22 14:07:26,325 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:26,325 - aiogram.dispatcher - WARNING - Sleep for 4.956859 seconds and try again... (tryings = 142, bot id = 6730535750)
2025-02-22 14:07:31,301 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:31,302 - aiogram.dispatcher - WARNING - Sleep for 4.887406 seconds and try again... (tryings = 143, bot id = 6730535750)
2025-02-22 14:07:36,205 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:36,206 - aiogram.dispatcher - WARNING - Sleep for 4.915211 seconds and try again... (tryings = 144, bot id = 6730535750)
2025-02-22 14:07:41,132 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:41,133 - aiogram.dispatcher - WARNING - Sleep for 4.766601 seconds and try again... (tryings = 145, bot id = 6730535750)
2025-02-22 14:07:45,917 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:45,918 - aiogram.dispatcher - WARNING - Sleep for 5.083534 seconds and try again... (tryings = 146, bot id = 6730535750)
2025-02-22 14:07:51,012 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:51,013 - aiogram.dispatcher - WARNING - Sleep for 4.921794 seconds and try again... (tryings = 147, bot id = 6730535750)
2025-02-22 14:07:55,950 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:07:55,950 - aiogram.dispatcher - WARNING - Sleep for 5.071989 seconds and try again... (tryings = 148, bot id = 6730535750)
2025-02-22 14:08:01,036 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Сетевая папка недоступна. За информацией о разрешении проблем в сети обратитесь к справочной системе Windows]
2025-02-22 14:08:01,036 - aiogram.dispatcher - WARNING - Sleep for 4.945940 seconds and try again... (tryings = 149, bot id = 6730535750)
2025-02-22 14:08:16,304 - aiogram.dispatcher - INFO - Connection established (tryings = 150, bot id = 6730535750)
2025-02-22 21:51:53,860 - root - INFO - Инициализация бота...
2025-02-22 21:51:53,861 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 21:51:54,463 - root - INFO - Запуск бота...
2025-02-22 21:51:54,949 - aiogram.dispatcher - INFO - Start polling
2025-02-22 21:51:55,084 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 21:53:31,834 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000028C529ACEA0>
2025-02-22 21:53:31,846 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000028C529ACEA0> completed
2025-02-22 21:53:31,848 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C527873D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True)
2025-02-22 21:53:31,849 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C527873D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True) completed
2025-02-22 21:53:31,850 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C527873D0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 21:53:31,850 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C527873D0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 21:53:31,851 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C527873D0>)
2025-02-22 21:53:31,851 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C527873D0>) completed
2025-02-22 21:53:31,852 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528685C0>, 'PRAGMA read_uncommitted', [])
2025-02-22 21:53:31,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528685C0>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 21:53:31,861 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528685C0>)
2025-02-22 21:53:31,861 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528685C0>) completed
2025-02-22 21:53:31,862 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528685C0>)
2025-02-22 21:53:31,862 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528685C0>) completed
2025-02-22 21:53:31,864 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C527873D0>)
2025-02-22 21:53:31,864 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C527873D0>) completed
2025-02-22 21:53:31,878 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C527873D0>)
2025-02-22 21:53:31,878 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C527873D0>) completed
2025-02-22 21:53:31,878 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52868540>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 21:53:31,892 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52868540>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 21:53:31,892 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52868540>)
2025-02-22 21:53:31,892 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52868540>) completed
2025-02-22 21:53:31,892 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52868540>)
2025-02-22 21:53:31,892 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52868540>) completed
2025-02-22 21:53:31,895 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000028C527873D0>)
2025-02-22 21:53:31,904 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000028C527873D0>) completed
2025-02-22 21:53:31,905 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C527873D0>)
2025-02-22 21:53:31,905 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C527873D0>) completed
2025-02-22 21:53:31,905 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C527873D0>)
2025-02-22 21:53:31,906 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C527873D0>) completed
2025-02-22 21:53:31,968 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000028C529BEC00>
2025-02-22 21:53:31,968 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000028C529BEC00> completed
2025-02-22 21:53:31,969 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C52848220>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True)
2025-02-22 21:53:31,969 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C52848220>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True) completed
2025-02-22 21:53:31,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C52848220>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 21:53:31,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C52848220>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 21:53:31,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C52848220>)
2025-02-22 21:53:31,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C52848220>) completed
2025-02-22 21:53:31,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52854940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,))
2025-02-22 21:53:31,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52854940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (1,)) completed
2025-02-22 21:53:31,975 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52854940>)
2025-02-22 21:53:31,975 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52854940>) completed
2025-02-22 21:53:31,975 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52854940>)
2025-02-22 21:53:31,975 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52854940>) completed
2025-02-22 21:53:31,977 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:31,978 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:53:32,365 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 21:53:32,366 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 21:53:32,366 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 90, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 106, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 21:53:32,867 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:32,869 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C52848220>)
2025-02-22 21:53:32,870 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C52848220>) completed
2025-02-22 21:53:32,871 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C52848220>)
2025-02-22 21:53:32,872 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C52848220>) completed
2025-02-22 21:53:32,873 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C52848220>)
2025-02-22 21:53:32,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C52848220>) completed
2025-02-22 21:53:32,876 - aiogram.event - INFO - Update id=142537957 is handled. Duration 1046 ms by bot id=6730535750
2025-02-22 21:53:40,882 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000028C529BE200>
2025-02-22 21:53:40,883 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000028C529BE200> completed
2025-02-22 21:53:40,885 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C529B76A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True)
2025-02-22 21:53:40,886 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C529B76A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True) completed
2025-02-22 21:53:40,887 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C529B76A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 21:53:40,888 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C529B76A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 21:53:40,894 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C529B76A0>)
2025-02-22 21:53:40,894 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C529B76A0>) completed
2025-02-22 21:53:40,896 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C5282B040>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 21:53:40,906 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C5282B040>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 21:53:40,907 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C5282B040>)
2025-02-22 21:53:40,908 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C5282B040>) completed
2025-02-22 21:53:40,909 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C5282B040>)
2025-02-22 21:53:40,910 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C5282B040>) completed
2025-02-22 21:53:40,913 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000028C529B76A0>)
2025-02-22 21:53:40,922 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000028C529B76A0>) completed
2025-02-22 21:53:40,923 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C529B76A0>)
2025-02-22 21:53:40,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C529B76A0>) completed
2025-02-22 21:53:40,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C529B76A0>)
2025-02-22 21:53:40,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C529B76A0>) completed
2025-02-22 21:53:40,967 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000028C52C2A8E0>
2025-02-22 21:53:40,968 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000028C52C2A8E0> completed
2025-02-22 21:53:40,969 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C5284AF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True)
2025-02-22 21:53:40,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C5284AF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True) completed
2025-02-22 21:53:40,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C5284AF20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 21:53:40,971 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C5284AF20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 21:53:40,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:53:40,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:53:40,975 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:53:40,976 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:53:40,976 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:40,977 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:40,977 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:40,978 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:40,979 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 21:53:40,979 - root - ERROR - 
2025-02-22 21:53:40,980 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:40,980 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:40,981 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:53:40,981 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:53:40,982 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:53:40,983 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:53:40,983 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:40,983 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:40,984 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:40,984 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:40,987 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:40,987 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:53:41,094 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 21:53:41,095 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 21:53:41,095 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 90, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 106, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 21:53:41,247 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:41,248 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:53:41,248 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:53:41,248 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:53:41,249 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:53:41,249 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:41,249 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:41,250 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:41,250 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:41,252 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:41,252 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:53:41,355 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 21:53:41,355 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 21:53:41,356 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 90, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 106, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 21:53:41,517 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:41,521 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:53:41,521 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:53:41,523 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:53:41,525 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:53:41,527 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:41,529 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:41,532 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:41,533 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:41,538 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:41,539 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:53:41,712 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:41,715 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:53:41,716 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:53:41,719 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:53:41,721 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:53:41,723 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:41,724 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:41,726 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:53:41,728 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:53:41,736 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:53:41,738 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:53:41,859 - root - WARNING - Обнаружен невалидный file_id (ID 10), отправляем локальный файл
2025-02-22 21:53:46,746 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 1)
2025-02-22 21:53:51,742 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 2)
2025-02-22 21:53:56,754 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 3)
2025-02-22 21:54:00,531 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:00,531 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:00,533 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAIC2Ge6ASgzp3X3H4Q2ORJIE6g1NNo2AALRYwACA8PRSX931-1eFpxbNgQ', 10))
2025-02-22 21:54:00,541 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C528592C0>, 'UPDATE broadcasts SET telegram_file_id=? WHERE broadcasts.id = ?', ('CQACAgIAAxkDAAIC2Ge6ASgzp3X3H4Q2ORJIE6g1NNo2AALRYwACA8PRSX931-1eFpxbNgQ', 10)) completed
2025-02-22 21:54:00,543 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>)
2025-02-22 21:54:00,543 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C528592C0>) completed
2025-02-22 21:54:00,547 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:00,555 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:00,557 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:00,558 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:00,559 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:00,560 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:00,566 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000028C52C2A700>
2025-02-22 21:54:00,568 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000028C52C2A700> completed
2025-02-22 21:54:00,570 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C5284AF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True)
2025-02-22 21:54:00,570 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C5284AF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000028C52367D80>, deterministic=True) completed
2025-02-22 21:54:00,572 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C5284AF20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 21:54:00,573 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000028C5284AF20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 21:54:00,580 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:00,581 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:00,582 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (10,))
2025-02-22 21:54:00,584 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (10,)) completed
2025-02-22 21:54:00,586 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:00,587 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:00,588 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:00,589 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:00,591 - root - INFO - Обновлен telegram_file_id для Broadcast 10
2025-02-22 21:54:00,592 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:00,595 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:00,595 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:00,597 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:00,598 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:00,600 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:00,600 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:00,602 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:00,602 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:00,607 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:00,609 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:00,756 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:00,757 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:00,758 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:00,758 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:00,759 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:00,759 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:00,759 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:00,760 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:00,760 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:00,762 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:00,763 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:00,869 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 21:54:00,869 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 21:54:00,870 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 90, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 106, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 21:54:01,201 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,201 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:01,202 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:01,202 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:01,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:01,203 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,204 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,206 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,206 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:01,324 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,325 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:01,326 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:01,326 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:01,326 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:01,327 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,327 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,328 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,328 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,330 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,330 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:01,461 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,462 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:01,462 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:01,463 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:01,463 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:01,464 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,464 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,464 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,464 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,465 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,465 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:01,573 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 21:54:01,575 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 21:54:01,575 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 90, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 106, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 21:54:01,731 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,733 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:01,734 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:01,736 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:01,737 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:01,738 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,739 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,740 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,741 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,747 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,748 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:01,850 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 21:54:01,851 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 21:54:01,852 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 90, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 106, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 21:54:01,988 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,990 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:01,990 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:01,991 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:01,992 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:01,993 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,993 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,994 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:01,994 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:01,998 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:01,998 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:02,212 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,216 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:02,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:02,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:02,222 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:02,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,227 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,228 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,235 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,237 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:02,456 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,459 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:02,460 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:02,462 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:02,464 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:02,466 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,467 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,469 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,470 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,477 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,478 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:02,625 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,628 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:02,628 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:02,630 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:02,631 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:02,633 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,633 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,634 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,635 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,640 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,642 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:02,807 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,809 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:02,810 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:02,811 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:02,813 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:02,814 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,815 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,816 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,817 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,820 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 21:54:02,821 - root - ERROR - 
2025-02-22 21:54:02,822 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,823 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,825 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:02,826 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:02,827 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:02,828 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:02,830 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,830 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,832 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:02,832 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:02,838 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:02,839 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:03,061 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,063 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:03,064 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:03,065 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:03,067 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:03,069 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:03,069 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:03,071 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:03,071 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:03,074 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,075 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:03,205 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:03,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:03,206 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:03,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:03,206 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:03,207 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:03,207 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:03,207 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:03,208 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 21:54:03,208 - root - ERROR - 
2025-02-22 21:54:03,209 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,209 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:03,210 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:03,211 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:03,211 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52828340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:03,212 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:03,212 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:03,213 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>)
2025-02-22 21:54:03,213 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52828340>) completed
2025-02-22 21:54:03,215 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,215 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:03,367 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,367 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:03,368 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:03,368 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:03,368 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:03,369 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:03,369 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:03,369 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:03,369 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:03,371 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,371 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:03,527 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,528 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:03,528 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:03,528 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:03,529 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:03,529 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:03,529 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:03,530 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:03,530 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:03,532 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,532 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:03,726 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,726 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:03,726 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:03,727 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:03,727 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:03,728 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:03,728 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:03,729 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:03,729 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:03,732 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,732 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:03,932 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,934 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:03,934 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:03,935 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:03,936 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:03,937 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:03,938 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:03,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:03,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:03,944 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:03,945 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:04,205 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:04,208 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:04,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:04,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:54:04,211 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000028C52707B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:54:04,213 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:04,214 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:04,216 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>)
2025-02-22 21:54:04,216 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000028C52707B40>) completed
2025-02-22 21:54:04,220 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:04,221 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:54:04,322 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 21:54:04,378 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:54:04,401 - root - ERROR - HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)
2025-02-22 21:54:04,402 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-134' coro=<ChatActionSender._worker() done, defined at C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\utils\chat_action.py:69> exception=TelegramNetworkError('HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)')>
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\sslproto.py", line 651, in _do_shutdown
    self._sslobj.unwrap()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 920, in unwrap
    return self._sslobj.shutdown()
           ^^^^^^^^^^^^^^^^^^^^^^^
ssl.SSLError: [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 181, in make_request
    async with session.post(
               ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client.py", line 1360, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client.py", line 690, in _request
    await resp.start(conn)
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client_reqrep.py", line 1059, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\streams.py", line 644, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\utils\chat_action.py", line 88, in _worker
    await self.bot.send_chat_action(
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2419, in send_chat_action
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 188, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)
2025-02-22 21:54:04,563 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 21:54:04,563 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:04,563 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:04,563 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C5284AF20>)
2025-02-22 21:54:04,563 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028C5284AF20>) completed
2025-02-22 21:54:04,564 - aiogram.event - INFO - Update id=142537958 is not handled. Duration 23687 ms by bot id=6730535750
2025-02-22 21:54:04,566 - root - INFO - Бот остановлен...
2025-02-22 21:54:04,748 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x0000028C528A3800>
2025-02-22 21:54:04,749 - asyncio - ERROR - Unclosed connector
connections: ['[(<aiohttp.client_proto.ResponseHandler object at 0x0000028C52C22690>, 26257.765)]']
connector: <aiohttp.connector.TCPConnector object at 0x0000028C528A3D70>
2025-02-22 21:57:06,890 - root - INFO - Инициализация бота...
2025-02-22 21:57:06,891 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 21:57:07,492 - root - INFO - Запуск бота...
2025-02-22 21:57:08,004 - aiogram.dispatcher - INFO - Start polling
2025-02-22 21:57:08,132 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 21:57:10,630 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000014535A189A0>
2025-02-22 21:57:10,630 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000014535A189A0> completed
2025-02-22 21:57:10,631 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000145357F7790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000145353D7CE0>, deterministic=True)
2025-02-22 21:57:10,631 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000145357F7790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000145353D7CE0>, deterministic=True) completed
2025-02-22 21:57:10,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000145357F7790>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 21:57:10,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000145357F7790>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 21:57:10,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000145357F7790>)
2025-02-22 21:57:10,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000145357F7790>) completed
2025-02-22 21:57:10,633 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000145358DCB40>, 'PRAGMA read_uncommitted', [])
2025-02-22 21:57:10,633 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000145358DCB40>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 21:57:10,633 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000145358DCB40>)
2025-02-22 21:57:10,633 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000145358DCB40>) completed
2025-02-22 21:57:10,634 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000145358DCB40>)
2025-02-22 21:57:10,634 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000145358DCB40>) completed
2025-02-22 21:57:10,635 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000145357F7790>)
2025-02-22 21:57:10,635 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000145357F7790>) completed
2025-02-22 21:57:10,641 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000145357F7790>)
2025-02-22 21:57:10,641 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000145357F7790>) completed
2025-02-22 21:57:10,642 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000145358DDE40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 21:57:10,648 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000145358DDE40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 21:57:10,649 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000145358DDE40>)
2025-02-22 21:57:10,649 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000145358DDE40>) completed
2025-02-22 21:57:10,650 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000145358DDE40>)
2025-02-22 21:57:10,650 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000145358DDE40>) completed
2025-02-22 21:57:10,651 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000145357F7790>)
2025-02-22 21:57:10,655 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000145357F7790>) completed
2025-02-22 21:57:10,656 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000145357F7790>)
2025-02-22 21:57:10,656 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000145357F7790>) completed
2025-02-22 21:57:10,656 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000145357F7790>)
2025-02-22 21:57:10,657 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000145357F7790>) completed
2025-02-22 21:57:10,677 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000014535A2A7A0>
2025-02-22 21:57:10,677 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000014535A2A7A0> completed
2025-02-22 21:57:10,678 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014535A444F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000145353D7CE0>, deterministic=True)
2025-02-22 21:57:10,678 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014535A444F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000145353D7CE0>, deterministic=True) completed
2025-02-22 21:57:10,678 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014535A444F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 21:57:10,678 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014535A444F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 21:57:10,680 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:10,681 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:10,681 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000145358CE240>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:10,682 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000145358CE240>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:10,682 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000145358CE240>)
2025-02-22 21:57:10,683 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000145358CE240>) completed
2025-02-22 21:57:10,683 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000145358CE240>)
2025-02-22 21:57:10,683 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000145358CE240>) completed
2025-02-22 21:57:10,685 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:10,686 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:11,302 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:11,303 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:11,303 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:11,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:11,304 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:11,305 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:11,305 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:11,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:11,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:11,308 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:11,309 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:11,588 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:11,591 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:11,591 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:11,593 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:11,594 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:11,595 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:11,596 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:11,597 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:11,598 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:11,604 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:11,605 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:11,822 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:11,825 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:11,826 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:11,827 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:11,829 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:11,830 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:11,831 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:11,832 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:11,833 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:11,839 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:11,840 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:12,057 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,061 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:12,062 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:12,064 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:12,065 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:12,066 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,067 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,068 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,069 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,075 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,076 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:12,282 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,285 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:12,286 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:12,288 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:12,289 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:12,291 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,292 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,294 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,302 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,303 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:12,523 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,526 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:12,526 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:12,528 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:12,529 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:12,530 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,531 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,533 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,534 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,540 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,541 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:12,682 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,685 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:12,685 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:12,687 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:12,688 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:12,689 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,690 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,691 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,692 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,697 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,698 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:12,913 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,915 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:12,916 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:12,917 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:12,918 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:12,920 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,921 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,922 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:12,923 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:12,928 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:12,929 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:13,065 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,066 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,067 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,067 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,068 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,069 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,069 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,070 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,070 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,071 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 21:57:13,072 - root - ERROR - 
2025-02-22 21:57:13,072 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,072 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,074 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,074 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,075 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,075 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,076 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,076 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,077 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,077 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,081 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,082 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:13,235 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,236 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,236 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,237 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,237 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,238 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,238 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,240 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 21:57:13,240 - root - ERROR - 
2025-02-22 21:57:13,240 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,241 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,242 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,243 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,243 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,243 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,244 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,244 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,244 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,246 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,246 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:13,368 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,369 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,369 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,370 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,370 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,371 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,373 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,377 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 21:57:13,377 - root - ERROR - 
2025-02-22 21:57:13,377 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,378 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,379 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,379 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,379 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,379 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,380 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,380 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,380 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,380 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,383 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,383 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:13,513 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,513 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,514 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,514 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,514 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,515 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,515 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,515 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,516 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,518 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,518 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:13,659 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,660 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,660 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,661 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,661 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,661 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,662 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,662 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,662 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,663 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,664 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:13,792 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,793 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,793 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,794 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,795 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,795 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,796 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,797 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,797 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,799 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,800 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:13,944 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,946 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:13,947 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:13,949 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:13,950 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:13,951 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,951 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,952 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:13,953 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:13,956 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:13,956 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:14,078 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,079 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:14,079 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:14,080 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:14,080 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:14,081 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,081 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,081 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,082 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,082 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 21:57:14,082 - root - ERROR - 
2025-02-22 21:57:14,083 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,083 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,083 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:14,084 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:14,084 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:14,084 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:14,085 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,085 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,085 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,085 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,087 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,087 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:14,222 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,223 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:14,223 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:14,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:14,224 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:14,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,225 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,227 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,227 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:14,358 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 21:57:14,359 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 21:57:14,359 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 90, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 106, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 21:57:14,709 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,712 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:14,712 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:14,713 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:14,714 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:14,714 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,714 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,715 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,715 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,717 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,717 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:14,728 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 21:57:14,857 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,906 - root - ERROR - HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)
2025-02-22 21:57:14,907 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-96' coro=<ChatActionSender._worker() done, defined at C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\utils\chat_action.py:69> exception=TelegramNetworkError('HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)')>
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\sslproto.py", line 651, in _do_shutdown
    self._sslobj.unwrap()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 920, in unwrap
    return self._sslobj.shutdown()
           ^^^^^^^^^^^^^^^^^^^^^^^
ssl.SSLError: [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 181, in make_request
    async with session.post(
               ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client.py", line 1360, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client.py", line 690, in _request
    await resp.start(conn)
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client_reqrep.py", line 1059, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\streams.py", line 644, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\utils\chat_action.py", line 88, in _worker
    await self.bot.send_chat_action(
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2419, in send_chat_action
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 188, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)
2025-02-22 21:57:14,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:14,914 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:14,915 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 21:57:14,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001453589F9C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 21:57:14,916 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,916 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,917 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>)
2025-02-22 21:57:14,917 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001453589F9C0>) completed
2025-02-22 21:57:14,920 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,920 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 21:57:14,972 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 21:57:14,973 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 21:57:14,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:14,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:14,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:14,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:14,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014535A444F0>)
2025-02-22 21:57:14,975 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014535A444F0>) completed
2025-02-22 21:57:14,975 - aiogram.event - INFO - Update id=142537959 is not handled. Duration 4344 ms by bot id=6730535750
2025-02-22 21:57:14,977 - root - INFO - Бот остановлен...
2025-02-22 21:57:15,177 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x0000014535B49D60>
2025-02-22 21:57:15,177 - asyncio - ERROR - Unclosed connector
connections: ['[(<aiohttp.client_proto.ResponseHandler object at 0x00000145358B8A70>, 26450.484)]']
connector: <aiohttp.connector.TCPConnector object at 0x0000014535B4BE00>
2025-02-22 22:09:12,301 - root - INFO - Инициализация бота...
2025-02-22 22:09:12,302 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 22:09:12,912 - root - INFO - Запуск бота...
2025-02-22 22:09:13,411 - aiogram.dispatcher - INFO - Start polling
2025-02-22 22:09:13,541 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:09:24,105 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000019C601ACB80>
2025-02-22 22:09:24,106 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000019C601ACB80> completed
2025-02-22 22:09:24,108 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019C5FF87A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000019C5FB67EC0>, deterministic=True)
2025-02-22 22:09:24,108 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019C5FF87A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000019C5FB67EC0>, deterministic=True) completed
2025-02-22 22:09:24,109 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019C5FF87A60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:09:24,109 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019C5FF87A60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:09:24,110 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C5FF87A60>)
2025-02-22 22:09:24,111 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C5FF87A60>) completed
2025-02-22 22:09:24,111 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C60070BC0>, 'PRAGMA read_uncommitted', [])
2025-02-22 22:09:24,112 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C60070BC0>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 22:09:24,113 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C60070BC0>)
2025-02-22 22:09:24,113 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C60070BC0>) completed
2025-02-22 22:09:24,114 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C60070BC0>)
2025-02-22 22:09:24,114 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C60070BC0>) completed
2025-02-22 22:09:24,115 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000019C5FF87A60>)
2025-02-22 22:09:24,115 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000019C5FF87A60>) completed
2025-02-22 22:09:24,124 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C5FF87A60>)
2025-02-22 22:09:24,124 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C5FF87A60>) completed
2025-02-22 22:09:24,124 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C60070840>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:09:24,131 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C60070840>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:09:24,132 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C60070840>)
2025-02-22 22:09:24,132 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C60070840>) completed
2025-02-22 22:09:24,133 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C60070840>)
2025-02-22 22:09:24,133 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C60070840>) completed
2025-02-22 22:09:24,134 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000019C5FF87A60>)
2025-02-22 22:09:24,138 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000019C5FF87A60>) completed
2025-02-22 22:09:24,139 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000019C5FF87A60>)
2025-02-22 22:09:24,139 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000019C5FF87A60>) completed
2025-02-22 22:09:24,140 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000019C5FF87A60>)
2025-02-22 22:09:24,140 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000019C5FF87A60>) completed
2025-02-22 22:09:24,162 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000019C601C2980>
2025-02-22 22:09:24,162 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000019C601C2980> completed
2025-02-22 22:09:24,163 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019C601D47C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000019C5FB67EC0>, deterministic=True)
2025-02-22 22:09:24,163 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019C601D47C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000019C5FB67EC0>, deterministic=True) completed
2025-02-22 22:09:24,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019C601D47C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:09:24,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019C601D47C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:09:24,166 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:24,167 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:24,167 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:24,167 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:24,168 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,168 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,169 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,169 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,170 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:24,171 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:24,602 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:24,602 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:24,603 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:24,603 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:24,603 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:24,604 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,604 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,605 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,605 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,606 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 22:09:24,606 - root - ERROR - 
2025-02-22 22:09:24,606 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:24,606 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:24,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:24,607 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:24,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:24,608 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:24,608 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,608 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,608 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,609 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,610 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:24,611 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:24,744 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:24,747 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:24,748 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:24,749 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:24,751 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:24,752 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,752 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,753 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,754 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,757 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:24,758 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:24,883 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:24,885 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:24,885 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:24,886 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:24,886 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:24,887 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,887 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,888 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:24,888 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:24,891 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:24,891 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:25,039 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,042 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:25,042 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:25,044 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:25,045 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:25,047 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,048 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,049 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,050 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,053 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,054 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:25,159 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 22:09:25,160 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 22:09:25,160 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 90, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 106, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 22:09:25,532 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,535 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:25,535 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:25,535 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:25,536 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:25,536 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,537 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,537 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,537 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,540 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,540 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:25,699 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,701 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:25,702 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:25,703 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:25,703 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:25,704 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,705 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,705 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,706 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,709 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,710 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:25,862 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,863 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:25,863 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:25,864 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:25,865 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:25,866 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,867 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,868 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,868 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,869 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 22:09:25,870 - root - ERROR - 
2025-02-22 22:09:25,870 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,871 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,872 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:25,873 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:25,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:25,875 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:25,876 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,876 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,877 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:25,877 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:25,880 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:25,880 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:26,040 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,041 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:26,041 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:26,042 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:26,042 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:26,043 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,043 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,043 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,043 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,045 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,046 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:26,219 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:26,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:26,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:26,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:26,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,222 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,222 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,223 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,224 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:26,423 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,424 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:26,424 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:26,425 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:26,425 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:26,426 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,426 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,426 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,427 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,429 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,430 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:26,594 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,596 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:26,596 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:26,597 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:26,598 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:26,599 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,599 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,600 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,600 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,603 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,604 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:26,793 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,797 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:26,798 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:26,800 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:26,802 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:26,804 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,805 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,806 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:26,807 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:26,813 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:26,815 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:27,091 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:27,094 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:27,094 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:27,096 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:27,097 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:27,099 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:27,099 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:27,101 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:27,101 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:27,107 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:27,109 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:09:27,219 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 22:09:27,235 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:27,261 - root - ERROR - HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)
2025-02-22 22:09:27,262 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-73' coro=<ChatActionSender._worker() done, defined at C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\utils\chat_action.py:69> exception=TelegramNetworkError('HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)')>
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\sslproto.py", line 651, in _do_shutdown
    self._sslobj.unwrap()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 920, in unwrap
    return self._sslobj.shutdown()
           ^^^^^^^^^^^^^^^^^^^^^^^
ssl.SSLError: [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 181, in make_request
    async with session.post(
               ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client.py", line 1360, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client.py", line 690, in _request
    await resp.start(conn)
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\client_reqrep.py", line 1059, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiohttp\streams.py", line 644, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\utils\chat_action.py", line 88, in _worker
    await self.bot.send_chat_action(
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2419, in send_chat_action
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 188, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2696)
2025-02-22 22:09:27,268 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>)
2025-02-22 22:09:27,268 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019C601D47C0>) completed
2025-02-22 22:09:27,269 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:09:27,269 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019C6007B3C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:09:27,269 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:27,270 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:27,270 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>)
2025-02-22 22:09:27,270 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019C6007B3C0>) completed
2025-02-22 22:09:27,272 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:09:27,272 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:11:03,130 - root - INFO - Инициализация бота...
2025-02-22 22:11:03,131 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 22:11:03,729 - root - INFO - Запуск бота...
2025-02-22 22:11:04,242 - aiogram.dispatcher - INFO - Start polling
2025-02-22 22:11:04,376 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:11:07,674 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000241FCDB8B80>
2025-02-22 22:11:07,674 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000241FCDB8B80> completed
2025-02-22 22:11:07,675 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCC67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000241FC84BEC0>, deterministic=True)
2025-02-22 22:11:07,675 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCC67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000241FC84BEC0>, deterministic=True) completed
2025-02-22 22:11:07,676 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCC67880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:11:07,676 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCC67880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:11:07,677 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCC67880>)
2025-02-22 22:11:07,677 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCC67880>) completed
2025-02-22 22:11:07,677 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCD34EC0>, 'PRAGMA read_uncommitted', [])
2025-02-22 22:11:07,677 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCD34EC0>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 22:11:07,677 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCD34EC0>)
2025-02-22 22:11:07,677 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCD34EC0>) completed
2025-02-22 22:11:07,677 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCD34EC0>)
2025-02-22 22:11:07,678 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCD34EC0>) completed
2025-02-22 22:11:07,678 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCC67880>)
2025-02-22 22:11:07,678 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCC67880>) completed
2025-02-22 22:11:07,682 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCC67880>)
2025-02-22 22:11:07,682 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCC67880>) completed
2025-02-22 22:11:07,683 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCD34A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:11:07,690 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCD34A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:11:07,690 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCD34A40>)
2025-02-22 22:11:07,690 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCD34A40>) completed
2025-02-22 22:11:07,691 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCD34A40>)
2025-02-22 22:11:07,691 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCD34A40>) completed
2025-02-22 22:11:07,692 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000241FCC67880>)
2025-02-22 22:11:07,696 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000241FCC67880>) completed
2025-02-22 22:11:07,697 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCC67880>)
2025-02-22 22:11:07,697 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCC67880>) completed
2025-02-22 22:11:07,698 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000241FCC67880>)
2025-02-22 22:11:07,698 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000241FCC67880>) completed
2025-02-22 22:11:07,716 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000241FCEA2980>
2025-02-22 22:11:07,716 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000241FCEA2980> completed
2025-02-22 22:11:07,717 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCEB45E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000241FC84BEC0>, deterministic=True)
2025-02-22 22:11:07,717 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCEB45E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000241FC84BEC0>, deterministic=True) completed
2025-02-22 22:11:07,717 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCEB45E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:11:07,717 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCEB45E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:11:07,722 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCEB45E0>)
2025-02-22 22:11:07,722 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCEB45E0>) completed
2025-02-22 22:11:07,722 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCD5FD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:11:07,723 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCD5FD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:11:07,724 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCD5FD40>)
2025-02-22 22:11:07,724 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCD5FD40>) completed
2025-02-22 22:11:07,724 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCD5FD40>)
2025-02-22 22:11:07,724 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCD5FD40>) completed
2025-02-22 22:11:07,727 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:11:07,728 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:11:08,140 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:11:08,141 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCEB45E0>)
2025-02-22 22:11:08,141 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCEB45E0>) completed
2025-02-22 22:11:08,142 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCEB45E0>)
2025-02-22 22:11:08,142 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCEB45E0>) completed
2025-02-22 22:11:08,142 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000241FCEB45E0>)
2025-02-22 22:11:08,143 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000241FCEB45E0>) completed
2025-02-22 22:11:08,143 - aiogram.event - INFO - Update id=142537961 is handled. Duration 467 ms by bot id=6730535750
2025-02-22 22:11:10,993 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000241FCEA2700>
2025-02-22 22:11:10,995 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000241FCEA2700> completed
2025-02-22 22:11:10,996 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCE975B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000241FC84BEC0>, deterministic=True)
2025-02-22 22:11:10,997 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCE975B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000241FC84BEC0>, deterministic=True) completed
2025-02-22 22:11:10,998 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCE975B0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:11:10,999 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCE975B0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:11:11,004 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCE975B0>)
2025-02-22 22:11:11,005 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCE975B0>) completed
2025-02-22 22:11:11,006 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCCEFAC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:11:11,015 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCCEFAC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:11:11,017 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCCEFAC0>)
2025-02-22 22:11:11,017 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCCEFAC0>) completed
2025-02-22 22:11:11,018 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCCEFAC0>)
2025-02-22 22:11:11,019 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCCEFAC0>) completed
2025-02-22 22:11:11,022 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000241FCE975B0>)
2025-02-22 22:11:11,029 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000241FCE975B0>) completed
2025-02-22 22:11:11,030 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCE975B0>)
2025-02-22 22:11:11,031 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCE975B0>) completed
2025-02-22 22:11:11,032 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000241FCE975B0>)
2025-02-22 22:11:11,032 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000241FCE975B0>) completed
2025-02-22 22:11:11,052 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000241FCD1A980>
2025-02-22 22:11:11,053 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000241FCD1A980> completed
2025-02-22 22:11:11,054 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCC656C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000241FC84BEC0>, deterministic=True)
2025-02-22 22:11:11,054 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCC656C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000241FC84BEC0>, deterministic=True) completed
2025-02-22 22:11:11,054 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCC656C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:11:11,055 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000241FCC656C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:11:11,056 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCC656C0>)
2025-02-22 22:11:11,056 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000241FCC656C0>) completed
2025-02-22 22:11:11,057 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCCED940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:11:11,057 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000241FCCED940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:11:11,058 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCCED940>)
2025-02-22 22:11:11,058 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000241FCCED940>) completed
2025-02-22 22:11:11,059 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCCED940>)
2025-02-22 22:11:11,059 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000241FCCED940>) completed
2025-02-22 22:11:11,061 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:11:11,061 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:11:11,186 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 22:11:11,188 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 22:11:11,188 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 90, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 106, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 22:11:11,590 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:11:11,592 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCC656C0>)
2025-02-22 22:11:11,592 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCC656C0>) completed
2025-02-22 22:11:11,594 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCC656C0>)
2025-02-22 22:11:11,594 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000241FCC656C0>) completed
2025-02-22 22:11:11,596 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000241FCC656C0>)
2025-02-22 22:11:11,596 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000241FCC656C0>) completed
2025-02-22 22:11:11,598 - aiogram.event - INFO - Update id=142537962 is handled. Duration 610 ms by bot id=6730535750
2025-02-22 22:11:40,983 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 22:11:41,239 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:11:41,241 - root - INFO - Бот остановлен...
2025-02-22 22:11:41,438 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x00000241FD023680>
2025-02-22 22:11:48,904 - root - INFO - Инициализация бота...
2025-02-22 22:11:48,905 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 22:11:49,510 - root - INFO - Запуск бота...
2025-02-22 22:11:49,958 - aiogram.dispatcher - INFO - Start polling
2025-02-22 22:11:50,082 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:11:51,870 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001BFE0258B80>
2025-02-22 22:11:51,871 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001BFE0258B80> completed
2025-02-22 22:11:51,871 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BFE0107880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001BFDFCEFEC0>, deterministic=True)
2025-02-22 22:11:51,871 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BFE0107880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001BFDFCEFEC0>, deterministic=True) completed
2025-02-22 22:11:51,872 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BFE0107880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:11:51,872 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BFE0107880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:11:51,872 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BFE0107880>)
2025-02-22 22:11:51,872 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BFE0107880>) completed
2025-02-22 22:11:51,873 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BFE01D4EC0>, 'PRAGMA read_uncommitted', [])
2025-02-22 22:11:51,873 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BFE01D4EC0>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 22:11:51,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BFE01D4EC0>)
2025-02-22 22:11:51,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BFE01D4EC0>) completed
2025-02-22 22:11:51,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BFE01D4EC0>)
2025-02-22 22:11:51,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BFE01D4EC0>) completed
2025-02-22 22:11:51,875 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BFE0107880>)
2025-02-22 22:11:51,875 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BFE0107880>) completed
2025-02-22 22:11:51,879 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BFE0107880>)
2025-02-22 22:11:51,879 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BFE0107880>) completed
2025-02-22 22:11:51,880 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BFE01D4A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:11:51,886 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BFE01D4A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:11:51,886 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BFE01D4A40>)
2025-02-22 22:11:51,886 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BFE01D4A40>) completed
2025-02-22 22:11:51,887 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BFE01D4A40>)
2025-02-22 22:11:51,887 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BFE01D4A40>) completed
2025-02-22 22:11:51,888 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001BFE0107880>)
2025-02-22 22:11:51,892 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001BFE0107880>) completed
2025-02-22 22:11:51,893 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BFE0107880>)
2025-02-22 22:11:51,893 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BFE0107880>) completed
2025-02-22 22:11:51,894 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BFE0107880>)
2025-02-22 22:11:51,894 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BFE0107880>) completed
2025-02-22 22:11:51,914 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001BFE033E980>
2025-02-22 22:11:51,915 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001BFE033E980> completed
2025-02-22 22:11:51,915 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BFE03545E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001BFDFCEFEC0>, deterministic=True)
2025-02-22 22:11:51,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BFE03545E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001BFDFCEFEC0>, deterministic=True) completed
2025-02-22 22:11:51,916 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BFE03545E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:11:51,916 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001BFE03545E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:11:51,920 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BFE03545E0>)
2025-02-22 22:11:51,920 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BFE03545E0>) completed
2025-02-22 22:11:51,920 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BFE01FFD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:11:51,921 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BFE01FFD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:11:51,921 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BFE01FFD40>)
2025-02-22 22:11:51,921 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BFE01FFD40>) completed
2025-02-22 22:11:51,922 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BFE01FFD40>)
2025-02-22 22:11:51,922 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BFE01FFD40>) completed
2025-02-22 22:11:51,923 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 22:11:51,923 - root - ERROR - 
2025-02-22 22:11:51,923 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:11:51,923 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:11:51,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BFE03545E0>)
2025-02-22 22:11:51,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001BFE03545E0>) completed
2025-02-22 22:11:51,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BFE01FFD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:11:51,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001BFE01FFD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:11:51,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BFE01FFD40>)
2025-02-22 22:11:51,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001BFE01FFD40>) completed
2025-02-22 22:11:51,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BFE01FFD40>)
2025-02-22 22:11:51,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001BFE01FFD40>) completed
2025-02-22 22:11:51,927 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:11:51,928 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:11:52,335 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:11:52,336 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BFE03545E0>)
2025-02-22 22:11:52,337 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BFE03545E0>) completed
2025-02-22 22:11:52,337 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BFE03545E0>)
2025-02-22 22:11:52,338 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001BFE03545E0>) completed
2025-02-22 22:11:52,338 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BFE03545E0>)
2025-02-22 22:11:52,339 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BFE03545E0>) completed
2025-02-22 22:11:52,339 - aiogram.event - INFO - Update id=142537963 is handled. Duration 469 ms by bot id=6730535750
2025-02-22 22:16:13,815 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 22:16:14,072 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:16:14,078 - root - INFO - Бот остановлен...
2025-02-22 22:16:21,668 - root - INFO - Инициализация бота...
2025-02-22 22:16:21,669 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 22:16:22,282 - root - INFO - Запуск бота...
2025-02-22 22:16:22,703 - aiogram.dispatcher - INFO - Start polling
2025-02-22 22:16:22,825 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:16:22,990 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001D3820D8B80>
2025-02-22 22:16:22,991 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001D3820D8B80> completed
2025-02-22 22:16:22,992 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D381F97880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001D381BBBEC0>, deterministic=True)
2025-02-22 22:16:22,992 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D381F97880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001D381BBBEC0>, deterministic=True) completed
2025-02-22 22:16:22,993 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D381F97880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:16:22,993 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D381F97880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:16:22,993 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D381F97880>)
2025-02-22 22:16:22,993 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D381F97880>) completed
2025-02-22 22:16:22,993 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D382050EC0>, 'PRAGMA read_uncommitted', [])
2025-02-22 22:16:22,993 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D382050EC0>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 22:16:22,994 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D382050EC0>)
2025-02-22 22:16:22,994 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D382050EC0>) completed
2025-02-22 22:16:22,995 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D382050EC0>)
2025-02-22 22:16:22,995 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D382050EC0>) completed
2025-02-22 22:16:22,995 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D381F97880>)
2025-02-22 22:16:22,995 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D381F97880>) completed
2025-02-22 22:16:23,001 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D381F97880>)
2025-02-22 22:16:23,001 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D381F97880>) completed
2025-02-22 22:16:23,001 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D382050C40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:16:23,009 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D382050C40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:16:23,009 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D382050C40>)
2025-02-22 22:16:23,009 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D382050C40>) completed
2025-02-22 22:16:23,009 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D382050C40>)
2025-02-22 22:16:23,009 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D382050C40>) completed
2025-02-22 22:16:23,010 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001D381F97880>)
2025-02-22 22:16:23,015 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001D381F97880>) completed
2025-02-22 22:16:23,016 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D381F97880>)
2025-02-22 22:16:23,016 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D381F97880>) completed
2025-02-22 22:16:23,016 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D381F97880>)
2025-02-22 22:16:23,016 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D381F97880>) completed
2025-02-22 22:16:23,036 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001D3821BEFC0>
2025-02-22 22:16:23,036 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001D3821BEFC0> completed
2025-02-22 22:16:23,037 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D48B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001D381BBBEC0>, deterministic=True)
2025-02-22 22:16:23,037 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D48B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001D381BBBEC0>, deterministic=True) completed
2025-02-22 22:16:23,038 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D48B0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:16:23,038 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D48B0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:16:23,040 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D3821D48B0>)
2025-02-22 22:16:23,041 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D3821D48B0>) completed
2025-02-22 22:16:23,041 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D3820AF940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,))
2025-02-22 22:16:23,041 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D3820AF940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,)) completed
2025-02-22 22:16:23,042 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D3820AF940>)
2025-02-22 22:16:23,042 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D3820AF940>) completed
2025-02-22 22:16:23,042 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D3820AF940>)
2025-02-22 22:16:23,042 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D3820AF940>) completed
2025-02-22 22:16:23,042 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 22:16:23,042 - root - ERROR - 
2025-02-22 22:16:23,042 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:16:23,043 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:16:23,043 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D48B0>)
2025-02-22 22:16:23,043 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D48B0>) completed
2025-02-22 22:16:23,043 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D48B0>)
2025-02-22 22:16:23,044 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D48B0>) completed
2025-02-22 22:16:23,044 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D3821D48B0>)
2025-02-22 22:16:23,044 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D3821D48B0>) completed
2025-02-22 22:16:23,044 - aiogram.event - INFO - Update id=142537964 is handled. Duration 63 ms by bot id=6730535750
2025-02-22 22:16:29,524 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001D3821BE7A0>
2025-02-22 22:16:29,525 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001D3821BE7A0> completed
2025-02-22 22:16:29,527 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D45E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001D381BBBEC0>, deterministic=True)
2025-02-22 22:16:29,528 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D45E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001D381BBBEC0>, deterministic=True) completed
2025-02-22 22:16:29,529 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D45E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:16:29,530 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D45E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:16:29,536 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D3821D45E0>)
2025-02-22 22:16:29,536 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D3821D45E0>) completed
2025-02-22 22:16:29,538 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D381BCA040>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:16:29,547 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D381BCA040>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:16:29,549 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D381BCA040>)
2025-02-22 22:16:29,550 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D381BCA040>) completed
2025-02-22 22:16:29,551 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D381BCA040>)
2025-02-22 22:16:29,551 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D381BCA040>) completed
2025-02-22 22:16:29,555 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001D3821D45E0>)
2025-02-22 22:16:29,564 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001D3821D45E0>) completed
2025-02-22 22:16:29,566 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D45E0>)
2025-02-22 22:16:29,566 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D45E0>) completed
2025-02-22 22:16:29,568 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D3821D45E0>)
2025-02-22 22:16:29,569 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D3821D45E0>) completed
2025-02-22 22:16:29,604 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001D38203A020>
2025-02-22 22:16:29,605 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001D38203A020> completed
2025-02-22 22:16:29,605 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D5B70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001D381BBBEC0>, deterministic=True)
2025-02-22 22:16:29,606 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D5B70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001D381BBBEC0>, deterministic=True) completed
2025-02-22 22:16:29,606 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D5B70>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:16:29,606 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001D3821D5B70>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:16:29,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D3821D5B70>)
2025-02-22 22:16:29,607 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001D3821D5B70>) completed
2025-02-22 22:16:29,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D382051D40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,))
2025-02-22 22:16:29,608 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001D382051D40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,)) completed
2025-02-22 22:16:29,609 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D382051D40>)
2025-02-22 22:16:29,609 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001D382051D40>) completed
2025-02-22 22:16:29,610 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D382051D40>)
2025-02-22 22:16:29,610 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001D382051D40>) completed
2025-02-22 22:16:29,611 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 22:16:29,611 - root - ERROR - 
2025-02-22 22:16:29,612 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:16:29,612 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:16:29,613 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D5B70>)
2025-02-22 22:16:29,613 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D5B70>) completed
2025-02-22 22:16:29,613 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D5B70>)
2025-02-22 22:16:29,614 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001D3821D5B70>) completed
2025-02-22 22:16:29,614 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D3821D5B70>)
2025-02-22 22:16:29,614 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D3821D5B70>) completed
2025-02-22 22:16:29,615 - aiogram.event - INFO - Update id=142537965 is handled. Duration 94 ms by bot id=6730535750
2025-02-22 22:17:59,253 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 22:17:59,507 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:17:59,509 - root - INFO - Бот остановлен...
2025-02-22 22:18:06,692 - root - INFO - Инициализация бота...
2025-02-22 22:18:06,693 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 22:18:07,301 - root - INFO - Запуск бота...
2025-02-22 22:18:07,858 - aiogram.dispatcher - INFO - Start polling
2025-02-22 22:18:08,011 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:18:09,046 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000010DDE5E8B80>
2025-02-22 22:18:09,046 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000010DDE5E8B80> completed
2025-02-22 22:18:09,047 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE497970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000010DDE077EC0>, deterministic=True)
2025-02-22 22:18:09,047 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE497970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000010DDE077EC0>, deterministic=True) completed
2025-02-22 22:18:09,048 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE497970>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:18:09,048 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE497970>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:18:09,048 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE497970>)
2025-02-22 22:18:09,048 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE497970>) completed
2025-02-22 22:18:09,048 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE564EC0>, 'PRAGMA read_uncommitted', [])
2025-02-22 22:18:09,048 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE564EC0>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 22:18:09,049 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE564EC0>)
2025-02-22 22:18:09,049 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE564EC0>) completed
2025-02-22 22:18:09,050 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE564EC0>)
2025-02-22 22:18:09,050 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE564EC0>) completed
2025-02-22 22:18:09,050 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE497970>)
2025-02-22 22:18:09,050 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE497970>) completed
2025-02-22 22:18:09,054 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE497970>)
2025-02-22 22:18:09,054 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE497970>) completed
2025-02-22 22:18:09,055 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE564A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:18:09,062 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE564A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:18:09,063 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE564A40>)
2025-02-22 22:18:09,063 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE564A40>) completed
2025-02-22 22:18:09,063 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE564A40>)
2025-02-22 22:18:09,063 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE564A40>) completed
2025-02-22 22:18:09,064 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000010DDE497970>)
2025-02-22 22:18:09,068 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000010DDE497970>) completed
2025-02-22 22:18:09,069 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE497970>)
2025-02-22 22:18:09,069 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE497970>) completed
2025-02-22 22:18:09,069 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000010DDE497970>)
2025-02-22 22:18:09,069 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000010DDE497970>) completed
2025-02-22 22:18:09,090 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000010DDE6D2980>
2025-02-22 22:18:09,090 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000010DDE6D2980> completed
2025-02-22 22:18:09,091 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E47C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000010DDE077EC0>, deterministic=True)
2025-02-22 22:18:09,091 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E47C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000010DDE077EC0>, deterministic=True) completed
2025-02-22 22:18:09,091 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E47C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:18:09,091 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E47C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:18:09,094 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE6E47C0>)
2025-02-22 22:18:09,094 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE6E47C0>) completed
2025-02-22 22:18:09,095 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE58FD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,))
2025-02-22 22:18:09,095 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE58FD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,)) completed
2025-02-22 22:18:09,096 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE58FD40>)
2025-02-22 22:18:09,096 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE58FD40>) completed
2025-02-22 22:18:09,096 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE58FD40>)
2025-02-22 22:18:09,096 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE58FD40>) completed
2025-02-22 22:18:09,097 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 22:18:09,097 - root - ERROR - 
2025-02-22 22:18:09,097 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:18:09,098 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:18:09,098 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E47C0>)
2025-02-22 22:18:09,098 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E47C0>) completed
2025-02-22 22:18:09,098 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E47C0>)
2025-02-22 22:18:09,098 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E47C0>) completed
2025-02-22 22:18:09,099 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000010DDE6E47C0>)
2025-02-22 22:18:09,099 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000010DDE6E47C0>) completed
2025-02-22 22:18:09,099 - aiogram.event - INFO - Update id=142537966 is handled. Duration 62 ms by bot id=6730535750
2025-02-22 22:18:12,625 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000010DDE6D2660>
2025-02-22 22:18:12,628 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000010DDE6D2660> completed
2025-02-22 22:18:12,629 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E44F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000010DDE077EC0>, deterministic=True)
2025-02-22 22:18:12,630 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E44F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000010DDE077EC0>, deterministic=True) completed
2025-02-22 22:18:12,631 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E44F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:18:12,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E44F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:18:12,638 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE6E44F0>)
2025-02-22 22:18:12,638 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE6E44F0>) completed
2025-02-22 22:18:12,640 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE08A040>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:18:12,649 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE08A040>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:18:12,651 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE08A040>)
2025-02-22 22:18:12,652 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE08A040>) completed
2025-02-22 22:18:12,653 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE08A040>)
2025-02-22 22:18:12,653 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE08A040>) completed
2025-02-22 22:18:12,657 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000010DDE6E44F0>)
2025-02-22 22:18:12,665 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000010DDE6E44F0>) completed
2025-02-22 22:18:12,667 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E44F0>)
2025-02-22 22:18:12,668 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E44F0>) completed
2025-02-22 22:18:12,669 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000010DDE6E44F0>)
2025-02-22 22:18:12,670 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000010DDE6E44F0>) completed
2025-02-22 22:18:12,704 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000010DDE55E7A0>
2025-02-22 22:18:12,705 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000010DDE55E7A0> completed
2025-02-22 22:18:12,706 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E5A80>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000010DDE077EC0>, deterministic=True)
2025-02-22 22:18:12,707 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E5A80>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000010DDE077EC0>, deterministic=True) completed
2025-02-22 22:18:12,708 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E5A80>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:18:12,708 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000010DDE6E5A80>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:18:12,710 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE6E5A80>)
2025-02-22 22:18:12,710 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000010DDE6E5A80>) completed
2025-02-22 22:18:12,710 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE5738C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,))
2025-02-22 22:18:12,711 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000010DDE5738C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,)) completed
2025-02-22 22:18:12,712 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE5738C0>)
2025-02-22 22:18:12,712 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000010DDE5738C0>) completed
2025-02-22 22:18:12,712 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE5738C0>)
2025-02-22 22:18:12,712 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000010DDE5738C0>) completed
2025-02-22 22:18:12,713 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 22:18:12,713 - root - ERROR - 
2025-02-22 22:18:12,713 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:18:12,714 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:18:12,714 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E5A80>)
2025-02-22 22:18:12,714 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E5A80>) completed
2025-02-22 22:18:12,715 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E5A80>)
2025-02-22 22:18:12,715 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000010DDE6E5A80>) completed
2025-02-22 22:18:12,715 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000010DDE6E5A80>)
2025-02-22 22:18:12,715 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000010DDE6E5A80>) completed
2025-02-22 22:18:12,715 - aiogram.event - INFO - Update id=142537967 is handled. Duration 94 ms by bot id=6730535750
2025-02-22 22:20:16,473 - aiogram.dispatcher - INFO - Polling stopped
2025-02-22 22:20:16,735 - aiogram.dispatcher - INFO - Polling stopped for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:20:16,737 - root - INFO - Бот остановлен...
2025-02-22 22:20:23,958 - root - INFO - Инициализация бота...
2025-02-22 22:20:23,959 - asyncio - DEBUG - Using proactor: IocpProactor
2025-02-22 22:20:24,586 - root - INFO - Запуск бота...
2025-02-22 22:20:25,044 - aiogram.dispatcher - INFO - Start polling
2025-02-22 22:20:25,153 - aiogram.dispatcher - INFO - Run polling for bot @frankieshow_bot id=6730535750 - 'Фрэнки-шоу'
2025-02-22 22:20:26,121 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252D88AE0>
2025-02-22 22:20:26,121 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252D88AE0> completed
2025-02-22 22:20:26,122 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C37970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:26,122 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C37970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:26,123 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C37970>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:26,123 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C37970>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:26,124 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C37970>)
2025-02-22 22:20:26,124 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C37970>) completed
2025-02-22 22:20:26,124 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D00EC0>, 'PRAGMA read_uncommitted', [])
2025-02-22 22:20:26,124 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D00EC0>, 'PRAGMA read_uncommitted', []) completed
2025-02-22 22:20:26,125 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D00EC0>)
2025-02-22 22:20:26,125 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D00EC0>) completed
2025-02-22 22:20:26,125 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D00EC0>)
2025-02-22 22:20:26,125 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D00EC0>) completed
2025-02-22 22:20:26,125 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C37970>)
2025-02-22 22:20:26,125 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C37970>) completed
2025-02-22 22:20:26,130 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C37970>)
2025-02-22 22:20:26,130 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C37970>) completed
2025-02-22 22:20:26,130 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D00A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:26,137 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D00A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:26,137 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D00A40>)
2025-02-22 22:20:26,137 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D00A40>) completed
2025-02-22 22:20:26,138 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D00A40>)
2025-02-22 22:20:26,138 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D00A40>) completed
2025-02-22 22:20:26,139 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252C37970>)
2025-02-22 22:20:26,143 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252C37970>) completed
2025-02-22 22:20:26,144 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C37970>)
2025-02-22 22:20:26,144 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C37970>) completed
2025-02-22 22:20:26,145 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C37970>)
2025-02-22 22:20:26,145 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C37970>) completed
2025-02-22 22:20:26,164 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252E728E0>
2025-02-22 22:20:26,164 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252E728E0> completed
2025-02-22 22:20:26,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E847C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:26,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E847C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:26,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E847C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:26,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E847C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:26,168 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E847C0>)
2025-02-22 22:20:26,168 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E847C0>) completed
2025-02-22 22:20:26,169 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D2BD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,))
2025-02-22 22:20:26,169 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D2BD40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts \nWHERE broadcasts.id = ?', (7,)) completed
2025-02-22 22:20:26,169 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D2BD40>)
2025-02-22 22:20:26,169 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D2BD40>) completed
2025-02-22 22:20:26,169 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D2BD40>)
2025-02-22 22:20:26,169 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D2BD40>) completed
2025-02-22 22:20:26,170 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\176 (1).mp3
2025-02-22 22:20:26,170 - root - ERROR - Файл 176 (1).mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 69, in send
    file_path = self._file_manager.get_file(filename)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 22:20:26,172 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:26,172 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:26,553 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:26,554 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E847C0>)
2025-02-22 22:20:26,554 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E847C0>) completed
2025-02-22 22:20:26,554 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E847C0>)
2025-02-22 22:20:26,554 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E847C0>) completed
2025-02-22 22:20:26,555 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E847C0>)
2025-02-22 22:20:26,555 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E847C0>) completed
2025-02-22 22:20:26,555 - aiogram.event - INFO - Update id=142537968 is handled. Duration 438 ms by bot id=6730535750
2025-02-22 22:20:31,142 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252E725C0>
2025-02-22 22:20:31,144 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252E725C0> completed
2025-02-22 22:20:31,146 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:31,147 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:31,148 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:31,149 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:31,155 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:20:31,155 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:20:31,157 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D134C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:31,166 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D134C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:31,167 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D134C0>)
2025-02-22 22:20:31,168 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D134C0>) completed
2025-02-22 22:20:31,169 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D134C0>)
2025-02-22 22:20:31,169 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D134C0>) completed
2025-02-22 22:20:31,171 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:20:31,177 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:20:31,178 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:20:31,178 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:20:31,179 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:20:31,180 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:20:31,211 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD6CA0>
2025-02-22 22:20:31,213 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD6CA0> completed
2025-02-22 22:20:31,214 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35990>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:31,214 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35990>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:31,215 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35990>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:31,215 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35990>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:31,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C35990>)
2025-02-22 22:20:31,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C35990>) completed
2025-02-22 22:20:31,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D01BC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:31,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D01BC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:31,222 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D01BC0>)
2025-02-22 22:20:31,222 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D01BC0>) completed
2025-02-22 22:20:31,223 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D01BC0>)
2025-02-22 22:20:31,223 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D01BC0>) completed
2025-02-22 22:20:31,224 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:31,225 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:31,611 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:31,612 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35990>)
2025-02-22 22:20:31,612 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35990>) completed
2025-02-22 22:20:31,613 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35990>)
2025-02-22 22:20:31,613 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35990>) completed
2025-02-22 22:20:31,614 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C35990>)
2025-02-22 22:20:31,614 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C35990>) completed
2025-02-22 22:20:31,615 - aiogram.event - INFO - Update id=142537969 is handled. Duration 469 ms by bot id=6730535750
2025-02-22 22:20:34,734 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD6D40>
2025-02-22 22:20:34,736 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD6D40> completed
2025-02-22 22:20:34,737 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35300>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:34,738 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35300>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:34,739 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35300>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:34,740 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35300>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:34,751 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C35300>)
2025-02-22 22:20:34,751 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C35300>) completed
2025-02-22 22:20:34,753 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD640>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:34,762 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD640>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:34,763 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD640>)
2025-02-22 22:20:34,764 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD640>) completed
2025-02-22 22:20:34,764 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD640>)
2025-02-22 22:20:34,765 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD640>) completed
2025-02-22 22:20:34,768 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252C35300>)
2025-02-22 22:20:34,775 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252C35300>) completed
2025-02-22 22:20:34,776 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35300>)
2025-02-22 22:20:34,776 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35300>) completed
2025-02-22 22:20:34,777 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C35300>)
2025-02-22 22:20:34,778 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C35300>) completed
2025-02-22 22:20:34,797 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD53A0>
2025-02-22 22:20:34,797 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD53A0> completed
2025-02-22 22:20:34,797 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C355D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:34,798 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C355D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:34,799 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C355D0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:34,799 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C355D0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:34,800 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C355D0>)
2025-02-22 22:20:34,800 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C355D0>) completed
2025-02-22 22:20:34,801 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBC740>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:34,802 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBC740>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:34,802 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBC740>)
2025-02-22 22:20:34,802 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBC740>) completed
2025-02-22 22:20:34,802 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBC740>)
2025-02-22 22:20:34,802 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBC740>) completed
2025-02-22 22:20:34,805 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:34,805 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:35,356 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:35,358 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C355D0>)
2025-02-22 22:20:35,359 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C355D0>) completed
2025-02-22 22:20:35,361 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C355D0>)
2025-02-22 22:20:35,362 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C355D0>) completed
2025-02-22 22:20:35,363 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C355D0>)
2025-02-22 22:20:35,364 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C355D0>) completed
2025-02-22 22:20:35,366 - aiogram.event - INFO - Update id=142537970 is handled. Duration 639 ms by bot id=6730535750
2025-02-22 22:20:39,688 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD49A0>
2025-02-22 22:20:39,688 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD49A0> completed
2025-02-22 22:20:39,689 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35120>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:39,689 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35120>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:39,689 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35120>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:39,689 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35120>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:39,691 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C35120>)
2025-02-22 22:20:39,691 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C35120>) completed
2025-02-22 22:20:39,691 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBEB40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:39,698 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBEB40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:39,698 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBEB40>)
2025-02-22 22:20:39,698 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBEB40>) completed
2025-02-22 22:20:39,699 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBEB40>)
2025-02-22 22:20:39,699 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBEB40>) completed
2025-02-22 22:20:39,700 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252C35120>)
2025-02-22 22:20:39,704 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252C35120>) completed
2025-02-22 22:20:39,705 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35120>)
2025-02-22 22:20:39,705 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35120>) completed
2025-02-22 22:20:39,705 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C35120>)
2025-02-22 22:20:39,706 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C35120>) completed
2025-02-22 22:20:39,715 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7A60>
2025-02-22 22:20:39,715 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7A60> completed
2025-02-22 22:20:39,716 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E85300>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:39,716 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E85300>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:39,716 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E85300>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:39,716 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E85300>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:39,717 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E85300>)
2025-02-22 22:20:39,717 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E85300>) completed
2025-02-22 22:20:39,718 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC94C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:39,718 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC94C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:39,719 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC94C0>)
2025-02-22 22:20:39,719 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC94C0>) completed
2025-02-22 22:20:39,719 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC94C0>)
2025-02-22 22:20:39,719 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC94C0>) completed
2025-02-22 22:20:39,721 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:39,721 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:40,223 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:40,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E85300>)
2025-02-22 22:20:40,224 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E85300>) completed
2025-02-22 22:20:40,225 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E85300>)
2025-02-22 22:20:40,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E85300>) completed
2025-02-22 22:20:40,226 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E85300>)
2025-02-22 22:20:40,226 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E85300>) completed
2025-02-22 22:20:40,227 - aiogram.event - INFO - Update id=142537971 is handled. Duration 531 ms by bot id=6730535750
2025-02-22 22:20:42,054 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD4FE0>
2025-02-22 22:20:42,055 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD4FE0> completed
2025-02-22 22:20:42,057 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35A80>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:42,058 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35A80>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:42,059 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35A80>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:42,060 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C35A80>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:42,067 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C35A80>)
2025-02-22 22:20:42,067 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C35A80>) completed
2025-02-22 22:20:42,069 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC80C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:42,078 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC80C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:42,080 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC80C0>)
2025-02-22 22:20:42,080 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC80C0>) completed
2025-02-22 22:20:42,082 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC80C0>)
2025-02-22 22:20:42,083 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC80C0>) completed
2025-02-22 22:20:42,086 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252C35A80>)
2025-02-22 22:20:42,094 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252C35A80>) completed
2025-02-22 22:20:42,096 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35A80>)
2025-02-22 22:20:42,098 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C35A80>) completed
2025-02-22 22:20:42,099 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C35A80>)
2025-02-22 22:20:42,100 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C35A80>) completed
2025-02-22 22:20:42,144 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7380>
2025-02-22 22:20:42,145 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7380> completed
2025-02-22 22:20:42,145 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C374C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:42,146 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C374C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:42,146 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C374C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:42,146 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252C374C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:42,147 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C374C0>)
2025-02-22 22:20:42,147 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252C374C0>) completed
2025-02-22 22:20:42,148 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F85240>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:42,149 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F85240>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:42,149 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F85240>)
2025-02-22 22:20:42,150 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F85240>) completed
2025-02-22 22:20:42,150 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F85240>)
2025-02-22 22:20:42,150 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F85240>) completed
2025-02-22 22:20:42,152 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:42,153 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:42,362 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:42,364 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C374C0>)
2025-02-22 22:20:42,365 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C374C0>) completed
2025-02-22 22:20:42,367 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C374C0>)
2025-02-22 22:20:42,368 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252C374C0>) completed
2025-02-22 22:20:42,369 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C374C0>)
2025-02-22 22:20:42,371 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252C374C0>) completed
2025-02-22 22:20:42,372 - aiogram.event - INFO - Update id=142537972 is handled. Duration 327 ms by bot id=6730535750
2025-02-22 22:20:44,181 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7A60>
2025-02-22 22:20:44,183 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7A60> completed
2025-02-22 22:20:44,185 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E673D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:44,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E673D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:44,187 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E673D0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:44,188 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E673D0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:44,193 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E673D0>)
2025-02-22 22:20:44,194 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E673D0>) completed
2025-02-22 22:20:44,195 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F620C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:44,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F620C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:44,206 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F620C0>)
2025-02-22 22:20:44,207 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F620C0>) completed
2025-02-22 22:20:44,208 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F620C0>)
2025-02-22 22:20:44,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F620C0>) completed
2025-02-22 22:20:44,212 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E673D0>)
2025-02-22 22:20:44,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E673D0>) completed
2025-02-22 22:20:44,222 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E673D0>)
2025-02-22 22:20:44,223 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E673D0>) completed
2025-02-22 22:20:44,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E673D0>)
2025-02-22 22:20:44,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E673D0>) completed
2025-02-22 22:20:44,254 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD4D60>
2025-02-22 22:20:44,256 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD4D60> completed
2025-02-22 22:20:44,257 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:44,257 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:44,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:44,258 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:44,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:20:44,260 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:20:44,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC9AC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:44,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC9AC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:44,264 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC9AC0>)
2025-02-22 22:20:44,264 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC9AC0>) completed
2025-02-22 22:20:44,265 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC9AC0>)
2025-02-22 22:20:44,265 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC9AC0>) completed
2025-02-22 22:20:44,269 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:44,270 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:44,483 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:44,485 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:20:44,486 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:20:44,488 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:20:44,488 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:20:44,490 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:20:44,491 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:20:44,494 - aiogram.event - INFO - Update id=142537973 is handled. Duration 311 ms by bot id=6730535750
2025-02-22 22:20:46,011 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD44A0>
2025-02-22 22:20:46,013 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD44A0> completed
2025-02-22 22:20:46,015 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:46,016 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:46,017 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:46,018 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:46,024 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:20:46,024 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:20:46,026 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC9A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:46,034 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC9A40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:46,036 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC9A40>)
2025-02-22 22:20:46,037 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC9A40>) completed
2025-02-22 22:20:46,038 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC9A40>)
2025-02-22 22:20:46,039 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC9A40>) completed
2025-02-22 22:20:46,042 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:20:46,051 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:20:46,053 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:20:46,053 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:20:46,055 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:20:46,056 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:20:46,086 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7BA0>
2025-02-22 22:20:46,087 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7BA0> completed
2025-02-22 22:20:46,088 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:46,088 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:46,089 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:46,089 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:46,090 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:20:46,091 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:20:46,091 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CCB740>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:46,093 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CCB740>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:46,094 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CCB740>)
2025-02-22 22:20:46,094 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CCB740>) completed
2025-02-22 22:20:46,095 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CCB740>)
2025-02-22 22:20:46,095 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CCB740>) completed
2025-02-22 22:20:46,098 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:46,099 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:46,231 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:46,232 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:20:46,233 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:20:46,234 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:20:46,235 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:20:46,236 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:20:46,238 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:20:46,240 - aiogram.event - INFO - Update id=142537974 is handled. Duration 234 ms by bot id=6730535750
2025-02-22 22:20:47,620 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD4F40>
2025-02-22 22:20:47,622 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD4F40> completed
2025-02-22 22:20:47,624 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:47,624 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:47,626 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:47,626 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:47,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:20:47,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:20:47,634 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8BC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:47,643 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8BC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:47,645 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8BC0>)
2025-02-22 22:20:47,646 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8BC0>) completed
2025-02-22 22:20:47,648 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8BC0>)
2025-02-22 22:20:47,648 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8BC0>) completed
2025-02-22 22:20:47,651 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:20:47,659 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:20:47,661 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:20:47,662 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:20:47,663 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:20:47,664 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:20:47,696 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD58A0>
2025-02-22 22:20:47,697 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD58A0> completed
2025-02-22 22:20:47,698 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:47,698 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:47,699 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:47,699 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:47,700 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:20:47,700 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:20:47,701 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D449C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:47,702 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D449C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:47,703 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D449C0>)
2025-02-22 22:20:47,703 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D449C0>) completed
2025-02-22 22:20:47,704 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D449C0>)
2025-02-22 22:20:47,704 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D449C0>) completed
2025-02-22 22:20:47,706 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:47,707 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:47,875 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:47,877 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:20:47,878 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:20:47,879 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:20:47,880 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:20:47,881 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:20:47,882 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:20:47,884 - aiogram.event - INFO - Update id=142537975 is handled. Duration 265 ms by bot id=6730535750
2025-02-22 22:20:49,166 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD71A0>
2025-02-22 22:20:49,168 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD71A0> completed
2025-02-22 22:20:49,170 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:49,170 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:49,172 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:49,172 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:49,178 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:20:49,178 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:20:49,180 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CCAEC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:49,189 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CCAEC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:49,191 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CCAEC0>)
2025-02-22 22:20:49,191 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CCAEC0>) completed
2025-02-22 22:20:49,193 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CCAEC0>)
2025-02-22 22:20:49,193 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CCAEC0>) completed
2025-02-22 22:20:49,196 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:20:49,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:20:49,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:20:49,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:20:49,207 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:20:49,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:20:49,239 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5E40>
2025-02-22 22:20:49,241 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5E40> completed
2025-02-22 22:20:49,242 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:49,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:49,243 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:49,243 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:49,245 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:20:49,245 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:20:49,246 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBE4C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:49,248 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBE4C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:49,248 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBE4C0>)
2025-02-22 22:20:49,249 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBE4C0>) completed
2025-02-22 22:20:49,250 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBE4C0>)
2025-02-22 22:20:49,250 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBE4C0>) completed
2025-02-22 22:20:49,251 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:49,251 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:49,479 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:49,481 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:20:49,482 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:20:49,483 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:20:49,484 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:20:49,486 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:20:49,487 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:20:49,489 - aiogram.event - INFO - Update id=142537976 is handled. Duration 327 ms by bot id=6730535750
2025-02-22 22:20:51,026 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7BA0>
2025-02-22 22:20:51,028 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7BA0> completed
2025-02-22 22:20:51,030 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:51,030 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:51,032 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:51,032 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:51,038 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:20:51,039 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:20:51,040 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBEEC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:51,049 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBEEC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:51,051 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBEEC0>)
2025-02-22 22:20:51,052 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBEEC0>) completed
2025-02-22 22:20:51,053 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBEEC0>)
2025-02-22 22:20:51,054 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBEEC0>) completed
2025-02-22 22:20:51,057 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:20:51,065 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:20:51,067 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:20:51,068 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:20:51,069 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:20:51,070 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:20:51,098 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CA6B60>
2025-02-22 22:20:51,099 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CA6B60> completed
2025-02-22 22:20:51,100 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:51,100 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:51,101 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:51,101 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:51,103 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:20:51,103 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:20:51,104 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D44B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:51,105 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D44B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:51,106 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D44B40>)
2025-02-22 22:20:51,107 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D44B40>) completed
2025-02-22 22:20:51,108 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D44B40>)
2025-02-22 22:20:51,108 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D44B40>) completed
2025-02-22 22:20:51,110 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:51,111 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:51,259 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:51,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:20:51,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:20:51,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:20:51,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:20:51,263 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:20:51,263 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:20:51,264 - aiogram.event - INFO - Update id=142537977 is handled. Duration 250 ms by bot id=6730535750
2025-02-22 22:20:53,468 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5EE0>
2025-02-22 22:20:53,469 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5EE0> completed
2025-02-22 22:20:53,471 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:53,472 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:53,473 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:53,474 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:53,481 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:20:53,482 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:20:53,483 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF3C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:53,488 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF3C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:53,490 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF3C0>)
2025-02-22 22:20:53,490 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF3C0>) completed
2025-02-22 22:20:53,492 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF3C0>)
2025-02-22 22:20:53,492 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF3C0>) completed
2025-02-22 22:20:53,495 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:20:53,505 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:20:53,508 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:20:53,509 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:20:53,510 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:20:53,511 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:20:53,542 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD6020>
2025-02-22 22:20:53,543 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD6020> completed
2025-02-22 22:20:53,545 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E673D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:53,545 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E673D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:53,545 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E673D0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:53,545 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E673D0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:53,546 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E673D0>)
2025-02-22 22:20:53,546 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E673D0>) completed
2025-02-22 22:20:53,547 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBCDC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:53,547 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBCDC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:53,548 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBCDC0>)
2025-02-22 22:20:53,548 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBCDC0>) completed
2025-02-22 22:20:53,548 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBCDC0>)
2025-02-22 22:20:53,549 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBCDC0>) completed
2025-02-22 22:20:53,550 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:53,551 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:53,806 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:53,807 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E673D0>)
2025-02-22 22:20:53,808 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E673D0>) completed
2025-02-22 22:20:53,810 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E673D0>)
2025-02-22 22:20:53,810 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E673D0>) completed
2025-02-22 22:20:53,812 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E673D0>)
2025-02-22 22:20:53,813 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E673D0>) completed
2025-02-22 22:20:53,814 - aiogram.event - INFO - Update id=142537978 is handled. Duration 359 ms by bot id=6730535750
2025-02-22 22:20:55,309 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7D80>
2025-02-22 22:20:55,311 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7D80> completed
2025-02-22 22:20:55,313 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:55,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:55,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:55,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:55,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:20:55,322 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:20:55,324 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D13940>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:55,333 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D13940>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:55,335 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D13940>)
2025-02-22 22:20:55,336 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D13940>) completed
2025-02-22 22:20:55,337 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D13940>)
2025-02-22 22:20:55,338 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D13940>) completed
2025-02-22 22:20:55,341 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:20:55,350 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:20:55,352 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:20:55,353 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:20:55,354 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:20:55,355 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:20:55,384 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD62A0>
2025-02-22 22:20:55,385 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD62A0> completed
2025-02-22 22:20:55,386 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67F10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:55,387 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67F10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:55,387 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67F10>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:55,388 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67F10>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:55,390 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67F10>)
2025-02-22 22:20:55,390 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67F10>) completed
2025-02-22 22:20:55,391 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:55,393 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:55,394 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8C40>)
2025-02-22 22:20:55,395 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8C40>) completed
2025-02-22 22:20:55,396 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8C40>)
2025-02-22 22:20:55,396 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8C40>) completed
2025-02-22 22:20:55,400 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:55,400 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:55,554 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:55,556 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67F10>)
2025-02-22 22:20:55,556 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67F10>) completed
2025-02-22 22:20:55,557 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67F10>)
2025-02-22 22:20:55,557 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67F10>) completed
2025-02-22 22:20:55,558 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67F10>)
2025-02-22 22:20:55,559 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67F10>) completed
2025-02-22 22:20:55,559 - aiogram.event - INFO - Update id=142537979 is handled. Duration 250 ms by bot id=6730535750
2025-02-22 22:20:57,009 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5BC0>
2025-02-22 22:20:57,011 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5BC0> completed
2025-02-22 22:20:57,013 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:57,013 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:57,015 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:57,016 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:57,022 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:20:57,023 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:20:57,024 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC89C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:57,033 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC89C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:57,035 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC89C0>)
2025-02-22 22:20:57,036 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC89C0>) completed
2025-02-22 22:20:57,037 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC89C0>)
2025-02-22 22:20:57,038 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC89C0>) completed
2025-02-22 22:20:57,041 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:20:57,049 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:20:57,051 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:20:57,052 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:20:57,054 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:20:57,055 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:20:57,097 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7CE0>
2025-02-22 22:20:57,098 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7CE0> completed
2025-02-22 22:20:57,099 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67D30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:57,099 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67D30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:57,100 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67D30>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:57,100 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67D30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:57,101 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67D30>)
2025-02-22 22:20:57,101 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67D30>) completed
2025-02-22 22:20:57,102 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBDB40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:57,103 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBDB40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:57,104 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBDB40>)
2025-02-22 22:20:57,104 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBDB40>) completed
2025-02-22 22:20:57,105 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBDB40>)
2025-02-22 22:20:57,105 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBDB40>) completed
2025-02-22 22:20:57,108 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:57,109 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:57,254 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:57,256 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67D30>)
2025-02-22 22:20:57,257 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67D30>) completed
2025-02-22 22:20:57,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67D30>)
2025-02-22 22:20:57,259 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67D30>) completed
2025-02-22 22:20:57,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67D30>)
2025-02-22 22:20:57,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67D30>) completed
2025-02-22 22:20:57,263 - aiogram.event - INFO - Update id=142537980 is handled. Duration 264 ms by bot id=6730535750
2025-02-22 22:20:58,259 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7B00>
2025-02-22 22:20:58,261 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7B00> completed
2025-02-22 22:20:58,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:58,263 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:58,264 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:58,265 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:58,270 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:20:58,271 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:20:58,272 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBC9C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:20:58,281 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBC9C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:20:58,283 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBC9C0>)
2025-02-22 22:20:58,284 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBC9C0>) completed
2025-02-22 22:20:58,285 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBC9C0>)
2025-02-22 22:20:58,285 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBC9C0>) completed
2025-02-22 22:20:58,288 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:20:58,296 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:20:58,298 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:20:58,298 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:20:58,300 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:20:58,301 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:20:58,333 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CA5120>
2025-02-22 22:20:58,334 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CA5120> completed
2025-02-22 22:20:58,335 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:20:58,336 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:20:58,337 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:20:58,337 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:20:58,339 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:20:58,339 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:20:58,340 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF8C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:58,340 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF8C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:58,341 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF8C0>)
2025-02-22 22:20:58,341 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF8C0>) completed
2025-02-22 22:20:58,341 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF8C0>)
2025-02-22 22:20:58,341 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF8C0>) completed
2025-02-22 22:20:58,343 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:58,343 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:58,454 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 22:20:58,456 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 22:20:58,456 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 96, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 112, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 22:20:58,818 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:58,820 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:20:58,821 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:20:58,822 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE76C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:20:58,824 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE76C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:20:58,825 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE76C0>)
2025-02-22 22:20:58,826 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE76C0>) completed
2025-02-22 22:20:58,827 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE76C0>)
2025-02-22 22:20:58,828 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE76C0>) completed
2025-02-22 22:20:58,833 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:58,834 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:20:58,986 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:20:58,988 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:20:58,988 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:20:58,990 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:20:58,991 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:20:58,992 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:20:58,993 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:20:58,995 - aiogram.event - INFO - Update id=142537981 is handled. Duration 734 ms by bot id=6730535750
2025-02-22 22:21:19,900 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD56C0>
2025-02-22 22:21:19,902 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD56C0> completed
2025-02-22 22:21:19,904 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:19,904 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:19,906 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:19,906 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:19,912 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:21:19,913 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:21:19,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F851C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:19,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F851C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:19,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F851C0>)
2025-02-22 22:21:19,927 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F851C0>) completed
2025-02-22 22:21:19,928 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F851C0>)
2025-02-22 22:21:19,928 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F851C0>) completed
2025-02-22 22:21:19,932 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:21:19,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:21:19,940 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:21:19,941 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:21:19,943 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:21:19,944 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:21:19,977 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CA4D60>
2025-02-22 22:21:19,978 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CA4D60> completed
2025-02-22 22:21:19,979 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:19,979 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:19,980 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:19,980 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:19,982 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:21:19,982 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:21:19,982 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC9840>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:19,983 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC9840>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:19,984 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC9840>)
2025-02-22 22:21:19,984 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC9840>) completed
2025-02-22 22:21:19,985 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC9840>)
2025-02-22 22:21:19,985 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC9840>) completed
2025-02-22 22:21:19,988 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:19,989 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:20,398 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:20,400 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:21:20,401 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:21:20,404 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:21:20,405 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:21:20,407 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:21:20,408 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:21:20,411 - aiogram.event - INFO - Update id=142537982 is handled. Duration 516 ms by bot id=6730535750
2025-02-22 22:21:24,931 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CA4180>
2025-02-22 22:21:24,933 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CA4180> completed
2025-02-22 22:21:24,934 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:24,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:24,937 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:24,937 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:24,943 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:24,944 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:24,945 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CCB640>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:24,954 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CCB640>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:24,956 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CCB640>)
2025-02-22 22:21:24,956 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CCB640>) completed
2025-02-22 22:21:24,958 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CCB640>)
2025-02-22 22:21:24,958 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CCB640>) completed
2025-02-22 22:21:24,961 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:24,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:24,972 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:24,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:24,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:24,975 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:25,013 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E2531367A0>
2025-02-22 22:21:25,015 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E2531367A0> completed
2025-02-22 22:21:25,016 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:25,016 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:25,017 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:25,017 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:25,019 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:21:25,019 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:21:25,020 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314BC40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:25,021 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314BC40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:25,022 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314BC40>)
2025-02-22 22:21:25,022 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314BC40>) completed
2025-02-22 22:21:25,023 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314BC40>)
2025-02-22 22:21:25,023 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314BC40>) completed
2025-02-22 22:21:25,025 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:25,026 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:25,132 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 22:21:25,133 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 22:21:25,134 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 96, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 112, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 22:21:25,480 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:25,483 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:21:25,483 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:21:25,485 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE28C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:25,486 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE28C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:25,487 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE28C0>)
2025-02-22 22:21:25,488 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE28C0>) completed
2025-02-22 22:21:25,489 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE28C0>)
2025-02-22 22:21:25,490 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE28C0>) completed
2025-02-22 22:21:25,495 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:25,497 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:25,626 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:25,628 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:21:25,628 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:21:25,630 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:21:25,630 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:21:25,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:21:25,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:21:25,634 - aiogram.event - INFO - Update id=142537983 is handled. Duration 702 ms by bot id=6730535750
2025-02-22 22:21:32,406 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CA5B20>
2025-02-22 22:21:32,408 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CA5B20> completed
2025-02-22 22:21:32,410 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:32,411 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:32,412 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:32,413 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:32,418 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:21:32,419 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:21:32,420 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE0EC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:32,429 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE0EC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:32,431 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE0EC0>)
2025-02-22 22:21:32,433 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE0EC0>) completed
2025-02-22 22:21:32,433 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE0EC0>)
2025-02-22 22:21:32,433 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE0EC0>) completed
2025-02-22 22:21:32,437 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:21:32,446 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:21:32,448 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:21:32,449 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:21:32,450 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:21:32,451 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:21:32,477 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CA4900>
2025-02-22 22:21:32,479 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CA4900> completed
2025-02-22 22:21:32,480 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:32,480 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:32,480 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:32,481 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:32,482 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:21:32,482 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:21:32,482 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E2530AF1C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:32,482 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E2530AF1C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:32,483 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E2530AF1C0>)
2025-02-22 22:21:32,483 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E2530AF1C0>) completed
2025-02-22 22:21:32,484 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E2530AF1C0>)
2025-02-22 22:21:32,484 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E2530AF1C0>) completed
2025-02-22 22:21:32,485 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:32,485 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:32,710 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:32,712 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:21:32,713 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:21:32,714 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:21:32,715 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:21:32,716 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:21:32,718 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:21:32,720 - aiogram.event - INFO - Update id=142537984 is handled. Duration 312 ms by bot id=6730535750
2025-02-22 22:21:35,216 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CA5A80>
2025-02-22 22:21:35,218 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CA5A80> completed
2025-02-22 22:21:35,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:35,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:35,222 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:35,223 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:35,229 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:21:35,229 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:21:35,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CE4CC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:35,241 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CE4CC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:35,243 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CE4CC0>)
2025-02-22 22:21:35,244 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CE4CC0>) completed
2025-02-22 22:21:35,245 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CE4CC0>)
2025-02-22 22:21:35,245 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CE4CC0>) completed
2025-02-22 22:21:35,249 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:21:35,256 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:21:35,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:21:35,259 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:21:35,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:21:35,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:21:35,299 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD4040>
2025-02-22 22:21:35,301 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD4040> completed
2025-02-22 22:21:35,301 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:35,302 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:35,302 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:35,302 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:35,303 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:21:35,303 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:21:35,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F848C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:35,305 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F848C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:35,305 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F848C0>)
2025-02-22 22:21:35,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F848C0>) completed
2025-02-22 22:21:35,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F848C0>)
2025-02-22 22:21:35,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F848C0>) completed
2025-02-22 22:21:35,308 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:35,309 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:35,446 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:35,448 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:21:35,449 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:21:35,450 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:21:35,450 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:21:35,451 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:21:35,452 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:21:35,453 - aiogram.event - INFO - Update id=142537985 is handled. Duration 250 ms by bot id=6730535750
2025-02-22 22:21:36,969 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD60C0>
2025-02-22 22:21:36,971 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD60C0> completed
2025-02-22 22:21:36,972 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67F10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:36,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67F10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:36,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67F10>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:36,975 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67F10>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:36,980 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67F10>)
2025-02-22 22:21:36,981 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67F10>) completed
2025-02-22 22:21:36,982 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F63440>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:36,992 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F63440>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:36,993 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F63440>)
2025-02-22 22:21:36,994 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F63440>) completed
2025-02-22 22:21:36,996 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F63440>)
2025-02-22 22:21:36,996 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F63440>) completed
2025-02-22 22:21:36,999 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67F10>)
2025-02-22 22:21:37,007 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67F10>) completed
2025-02-22 22:21:37,009 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67F10>)
2025-02-22 22:21:37,010 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67F10>) completed
2025-02-22 22:21:37,011 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67F10>)
2025-02-22 22:21:37,012 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67F10>) completed
2025-02-22 22:21:37,046 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD6020>
2025-02-22 22:21:37,048 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD6020> completed
2025-02-22 22:21:37,049 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:37,049 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:37,050 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:37,051 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:37,052 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:21:37,052 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:21:37,053 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBEE40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:37,054 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBEE40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:37,055 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBEE40>)
2025-02-22 22:21:37,056 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBEE40>) completed
2025-02-22 22:21:37,057 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBEE40>)
2025-02-22 22:21:37,057 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBEE40>) completed
2025-02-22 22:21:37,060 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:37,061 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:37,238 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:37,239 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:21:37,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:21:37,240 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:21:37,241 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:21:37,241 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:21:37,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:21:37,243 - aiogram.event - INFO - Update id=142537986 is handled. Duration 280 ms by bot id=6730535750
2025-02-22 22:21:38,657 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD6020>
2025-02-22 22:21:38,659 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD6020> completed
2025-02-22 22:21:38,660 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:38,661 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:38,662 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:38,663 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:38,669 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:21:38,669 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:21:38,671 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E2530AF4C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:38,675 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E2530AF4C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:38,676 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E2530AF4C0>)
2025-02-22 22:21:38,677 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E2530AF4C0>) completed
2025-02-22 22:21:38,678 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E2530AF4C0>)
2025-02-22 22:21:38,679 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E2530AF4C0>) completed
2025-02-22 22:21:38,682 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:21:38,691 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:21:38,693 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:21:38,694 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:21:38,695 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:21:38,696 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:21:38,730 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5B20>
2025-02-22 22:21:38,732 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5B20> completed
2025-02-22 22:21:38,732 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:38,733 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:38,733 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:38,734 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:38,735 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:21:38,735 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:21:38,736 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D44940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:38,737 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D44940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:38,737 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D44940>)
2025-02-22 22:21:38,738 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D44940>) completed
2025-02-22 22:21:38,738 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D44940>)
2025-02-22 22:21:38,739 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D44940>) completed
2025-02-22 22:21:38,741 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:38,742 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:38,868 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 22:21:38,869 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 22:21:38,870 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 96, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 112, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 22:21:39,012 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:39,014 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:21:39,015 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:21:39,016 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D44940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:39,017 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252D44940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:39,018 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D44940>)
2025-02-22 22:21:39,019 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252D44940>) completed
2025-02-22 22:21:39,020 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D44940>)
2025-02-22 22:21:39,020 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252D44940>) completed
2025-02-22 22:21:39,022 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:39,022 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:39,162 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:39,163 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:21:39,163 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:21:39,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:21:39,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:21:39,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:21:39,166 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:21:39,167 - aiogram.event - INFO - Update id=142537987 is handled. Duration 500 ms by bot id=6730535750
2025-02-22 22:21:46,592 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD4040>
2025-02-22 22:21:46,594 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD4040> completed
2025-02-22 22:21:46,595 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67100>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:46,596 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67100>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:46,598 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67100>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:46,598 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67100>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:46,604 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67100>)
2025-02-22 22:21:46,604 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67100>) completed
2025-02-22 22:21:46,606 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE25C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:46,615 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE25C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:46,616 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE25C0>)
2025-02-22 22:21:46,617 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE25C0>) completed
2025-02-22 22:21:46,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE25C0>)
2025-02-22 22:21:46,619 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE25C0>) completed
2025-02-22 22:21:46,622 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67100>)
2025-02-22 22:21:46,630 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67100>) completed
2025-02-22 22:21:46,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67100>)
2025-02-22 22:21:46,633 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67100>) completed
2025-02-22 22:21:46,634 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67100>)
2025-02-22 22:21:46,635 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67100>) completed
2025-02-22 22:21:46,661 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD4D60>
2025-02-22 22:21:46,662 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD4D60> completed
2025-02-22 22:21:46,663 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:46,663 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:46,664 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:46,665 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:46,666 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:21:46,666 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:21:46,667 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8640>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:46,668 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8640>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:46,669 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8640>)
2025-02-22 22:21:46,670 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8640>) completed
2025-02-22 22:21:46,671 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8640>)
2025-02-22 22:21:46,671 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8640>) completed
2025-02-22 22:21:46,673 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:46,673 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:46,803 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:46,804 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:21:46,805 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:21:46,806 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:21:46,806 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:21:46,807 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:21:46,807 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:21:46,808 - aiogram.event - INFO - Update id=142537988 is handled. Duration 219 ms by bot id=6730535750
2025-02-22 22:21:49,287 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5080>
2025-02-22 22:21:49,290 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5080> completed
2025-02-22 22:21:49,292 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:49,293 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:49,294 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:49,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:49,301 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:21:49,302 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:21:49,303 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD8C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:49,312 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD8C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:49,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD8C0>)
2025-02-22 22:21:49,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD8C0>) completed
2025-02-22 22:21:49,316 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD8C0>)
2025-02-22 22:21:49,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD8C0>) completed
2025-02-22 22:21:49,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:21:49,329 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:21:49,332 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:21:49,332 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:21:49,333 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:21:49,334 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:21:49,371 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD6020>
2025-02-22 22:21:49,372 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD6020> completed
2025-02-22 22:21:49,372 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:49,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:49,373 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:49,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:49,374 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:49,374 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:49,375 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314A2C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:49,375 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314A2C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:49,376 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314A2C0>)
2025-02-22 22:21:49,376 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314A2C0>) completed
2025-02-22 22:21:49,377 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314A2C0>)
2025-02-22 22:21:49,377 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314A2C0>) completed
2025-02-22 22:21:49,379 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:49,379 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:49,535 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:49,537 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:49,538 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:49,540 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:49,541 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:49,543 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:49,545 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:49,547 - aiogram.event - INFO - Update id=142537989 is handled. Duration 265 ms by bot id=6730535750
2025-02-22 22:21:50,915 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD40E0>
2025-02-22 22:21:50,916 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD40E0> completed
2025-02-22 22:21:50,918 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:50,919 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:50,920 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:50,921 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:50,927 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:21:50,928 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:21:50,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314BC40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:50,937 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314BC40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:50,938 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314BC40>)
2025-02-22 22:21:50,938 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314BC40>) completed
2025-02-22 22:21:50,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314BC40>)
2025-02-22 22:21:50,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314BC40>) completed
2025-02-22 22:21:50,941 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:21:50,948 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:21:50,949 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:21:50,950 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:21:50,951 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:21:50,951 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:21:50,978 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CA5120>
2025-02-22 22:21:50,980 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CA5120> completed
2025-02-22 22:21:50,981 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:50,981 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:50,982 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67970>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:50,982 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67970>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:50,984 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67970>)
2025-02-22 22:21:50,984 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67970>) completed
2025-02-22 22:21:50,985 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:50,986 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:50,987 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8C40>)
2025-02-22 22:21:50,988 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8C40>) completed
2025-02-22 22:21:50,989 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8C40>)
2025-02-22 22:21:50,989 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8C40>) completed
2025-02-22 22:21:50,991 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:50,991 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:51,122 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:51,123 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67970>)
2025-02-22 22:21:51,124 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67970>) completed
2025-02-22 22:21:51,125 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67970>)
2025-02-22 22:21:51,126 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67970>) completed
2025-02-22 22:21:51,127 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67970>)
2025-02-22 22:21:51,128 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67970>) completed
2025-02-22 22:21:51,129 - aiogram.event - INFO - Update id=142537990 is handled. Duration 218 ms by bot id=6730535750
2025-02-22 22:21:52,511 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CA4860>
2025-02-22 22:21:52,514 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CA4860> completed
2025-02-22 22:21:52,516 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:52,516 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:52,518 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:52,519 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:52,527 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:21:52,528 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:21:52,530 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314A0C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:52,540 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314A0C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:52,542 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314A0C0>)
2025-02-22 22:21:52,543 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314A0C0>) completed
2025-02-22 22:21:52,545 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314A0C0>)
2025-02-22 22:21:52,545 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314A0C0>) completed
2025-02-22 22:21:52,548 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:21:52,554 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:21:52,555 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:21:52,556 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:21:52,557 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:21:52,557 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:21:52,579 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7D80>
2025-02-22 22:21:52,580 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7D80> completed
2025-02-22 22:21:52,581 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67D30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:52,581 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67D30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:52,581 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67D30>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:52,581 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67D30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:52,582 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67D30>)
2025-02-22 22:21:52,582 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67D30>) completed
2025-02-22 22:21:52,583 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8F40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:52,583 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8F40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:52,584 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8F40>)
2025-02-22 22:21:52,584 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8F40>) completed
2025-02-22 22:21:52,584 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8F40>)
2025-02-22 22:21:52,585 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8F40>) completed
2025-02-22 22:21:52,587 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:52,587 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:52,747 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:52,748 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67D30>)
2025-02-22 22:21:52,749 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67D30>) completed
2025-02-22 22:21:52,750 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67D30>)
2025-02-22 22:21:52,751 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67D30>) completed
2025-02-22 22:21:52,752 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67D30>)
2025-02-22 22:21:52,753 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67D30>) completed
2025-02-22 22:21:52,755 - aiogram.event - INFO - Update id=142537991 is handled. Duration 250 ms by bot id=6730535750
2025-02-22 22:21:55,187 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5300>
2025-02-22 22:21:55,189 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5300> completed
2025-02-22 22:21:55,190 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:55,191 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:55,192 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:55,193 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:55,199 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:21:55,199 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:21:55,201 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE0CC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:55,210 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE0CC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:55,212 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE0CC0>)
2025-02-22 22:21:55,213 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE0CC0>) completed
2025-02-22 22:21:55,214 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE0CC0>)
2025-02-22 22:21:55,214 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE0CC0>) completed
2025-02-22 22:21:55,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:21:55,227 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:21:55,228 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:21:55,229 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:21:55,230 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:21:55,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:21:55,262 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7B00>
2025-02-22 22:21:55,263 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7B00> completed
2025-02-22 22:21:55,264 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66F20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:55,264 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66F20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:55,265 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66F20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:55,265 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66F20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:55,266 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66F20>)
2025-02-22 22:21:55,267 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66F20>) completed
2025-02-22 22:21:55,267 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC97C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:55,269 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC97C0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:55,270 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC97C0>)
2025-02-22 22:21:55,270 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC97C0>) completed
2025-02-22 22:21:55,271 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC97C0>)
2025-02-22 22:21:55,271 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC97C0>) completed
2025-02-22 22:21:55,275 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:55,275 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:55,487 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:55,489 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66F20>)
2025-02-22 22:21:55,490 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66F20>) completed
2025-02-22 22:21:55,492 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66F20>)
2025-02-22 22:21:55,493 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66F20>) completed
2025-02-22 22:21:55,495 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66F20>)
2025-02-22 22:21:55,496 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66F20>) completed
2025-02-22 22:21:55,498 - aiogram.event - INFO - Update id=142537992 is handled. Duration 327 ms by bot id=6730535750
2025-02-22 22:21:56,939 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5620>
2025-02-22 22:21:56,941 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5620> completed
2025-02-22 22:21:56,943 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:56,944 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:56,945 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:56,946 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67880>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:56,951 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:56,952 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:56,953 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF440>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:56,963 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF440>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:56,965 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF440>)
2025-02-22 22:21:56,965 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF440>) completed
2025-02-22 22:21:56,967 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF440>)
2025-02-22 22:21:56,967 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF440>) completed
2025-02-22 22:21:56,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:56,978 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:56,980 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:56,980 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:56,982 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>)
2025-02-22 22:21:56,983 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67880>) completed
2025-02-22 22:21:57,024 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5E40>
2025-02-22 22:21:57,025 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5E40> completed
2025-02-22 22:21:57,025 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67E20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:57,026 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67E20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:57,026 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67E20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:57,026 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67E20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:57,027 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67E20>)
2025-02-22 22:21:57,028 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67E20>) completed
2025-02-22 22:21:57,028 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F62840>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:57,029 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F62840>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:57,030 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F62840>)
2025-02-22 22:21:57,030 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F62840>) completed
2025-02-22 22:21:57,030 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F62840>)
2025-02-22 22:21:57,031 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F62840>) completed
2025-02-22 22:21:57,033 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:57,033 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:57,228 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:57,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67E20>)
2025-02-22 22:21:57,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67E20>) completed
2025-02-22 22:21:57,232 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67E20>)
2025-02-22 22:21:57,232 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67E20>) completed
2025-02-22 22:21:57,233 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67E20>)
2025-02-22 22:21:57,233 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67E20>) completed
2025-02-22 22:21:57,235 - aiogram.event - INFO - Update id=142537993 is handled. Duration 296 ms by bot id=6730535750
2025-02-22 22:21:58,181 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD6E80>
2025-02-22 22:21:58,182 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD6E80> completed
2025-02-22 22:21:58,184 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:58,184 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:58,186 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:58,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E676A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:58,192 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:21:58,192 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:21:58,194 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBE040>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:21:58,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBE040>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:21:58,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBE040>)
2025-02-22 22:21:58,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBE040>) completed
2025-02-22 22:21:58,207 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBE040>)
2025-02-22 22:21:58,207 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBE040>) completed
2025-02-22 22:21:58,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:21:58,219 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:21:58,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:21:58,222 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:21:58,223 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E676A0>)
2025-02-22 22:21:58,224 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E676A0>) completed
2025-02-22 22:21:58,256 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD7BA0>
2025-02-22 22:21:58,257 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD7BA0> completed
2025-02-22 22:21:58,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:21:58,258 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:21:58,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:21:58,259 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:21:58,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:21:58,260 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:21:58,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:21:58,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC8C40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:21:58,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8C40>)
2025-02-22 22:21:58,263 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC8C40>) completed
2025-02-22 22:21:58,263 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8C40>)
2025-02-22 22:21:58,264 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC8C40>) completed
2025-02-22 22:21:58,266 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:58,267 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:21:58,477 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:21:58,478 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:21:58,478 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:21:58,480 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:21:58,480 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:21:58,481 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:21:58,481 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:21:58,483 - aiogram.event - INFO - Update id=142537994 is handled. Duration 311 ms by bot id=6730535750
2025-02-22 22:22:00,274 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD4360>
2025-02-22 22:22:00,276 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD4360> completed
2025-02-22 22:22:00,277 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:00,278 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:00,279 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:00,280 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66B60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:00,286 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:22:00,286 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:22:00,288 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD840>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:22:00,297 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD840>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:22:00,299 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD840>)
2025-02-22 22:22:00,300 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD840>) completed
2025-02-22 22:22:00,302 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD840>)
2025-02-22 22:22:00,303 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD840>) completed
2025-02-22 22:22:00,307 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:22:00,316 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:22:00,318 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:22:00,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:22:00,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>)
2025-02-22 22:22:00,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66B60>) completed
2025-02-22 22:22:00,355 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E2531372E0>
2025-02-22 22:22:00,356 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E2531372E0> completed
2025-02-22 22:22:00,356 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:00,357 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:00,358 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:00,358 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:00,359 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:22:00,359 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:22:00,360 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314B440>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:00,361 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314B440>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:00,361 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314B440>)
2025-02-22 22:22:00,361 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314B440>) completed
2025-02-22 22:22:00,362 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314B440>)
2025-02-22 22:22:00,362 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314B440>) completed
2025-02-22 22:22:00,365 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:00,365 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:00,474 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 22:22:00,475 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 22:22:00,476 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 96, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 112, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 22:22:00,881 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:00,883 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:22:00,883 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:22:00,884 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD740>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:00,885 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD740>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:00,886 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD740>)
2025-02-22 22:22:00,887 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD740>) completed
2025-02-22 22:22:00,888 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD740>)
2025-02-22 22:22:00,889 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD740>) completed
2025-02-22 22:22:00,891 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:00,892 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:01,108 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:01,110 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:22:01,111 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:22:01,112 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:22:01,113 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:22:01,116 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:22:01,117 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:22:01,119 - aiogram.event - INFO - Update id=142537995 is handled. Duration 844 ms by bot id=6730535750
2025-02-22 22:22:06,346 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E253137380>
2025-02-22 22:22:06,349 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E253137380> completed
2025-02-22 22:22:06,351 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:06,352 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:06,353 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:06,354 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E672E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:06,359 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:22:06,360 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:22:06,361 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314B440>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:22:06,371 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E25314B440>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:22:06,373 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314B440>)
2025-02-22 22:22:06,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E25314B440>) completed
2025-02-22 22:22:06,375 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314B440>)
2025-02-22 22:22:06,375 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E25314B440>) completed
2025-02-22 22:22:06,378 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:22:06,386 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:22:06,388 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:22:06,389 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:22:06,390 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E672E0>)
2025-02-22 22:22:06,391 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E672E0>) completed
2025-02-22 22:22:06,422 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5C60>
2025-02-22 22:22:06,423 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5C60> completed
2025-02-22 22:22:06,424 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67E20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:06,424 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67E20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:06,425 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67E20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:06,425 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67E20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:06,426 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67E20>)
2025-02-22 22:22:06,426 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67E20>) completed
2025-02-22 22:22:06,427 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F62D40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:06,428 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F62D40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:06,429 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F62D40>)
2025-02-22 22:22:06,429 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F62D40>) completed
2025-02-22 22:22:06,430 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F62D40>)
2025-02-22 22:22:06,430 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F62D40>) completed
2025-02-22 22:22:06,433 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:06,434 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:06,668 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:06,669 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67E20>)
2025-02-22 22:22:06,670 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67E20>) completed
2025-02-22 22:22:06,671 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67E20>)
2025-02-22 22:22:06,672 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67E20>) completed
2025-02-22 22:22:06,673 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67E20>)
2025-02-22 22:22:06,674 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67E20>) completed
2025-02-22 22:22:06,676 - aiogram.event - INFO - Update id=142537996 is handled. Duration 328 ms by bot id=6730535750
2025-02-22 22:22:09,385 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD6C00>
2025-02-22 22:22:09,387 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD6C00> completed
2025-02-22 22:22:09,388 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:09,389 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:09,390 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:09,391 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:09,396 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:22:09,397 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:22:09,398 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF840>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:22:09,408 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF840>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:22:09,409 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF840>)
2025-02-22 22:22:09,410 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF840>) completed
2025-02-22 22:22:09,411 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF840>)
2025-02-22 22:22:09,412 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF840>) completed
2025-02-22 22:22:09,415 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:22:09,424 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:22:09,426 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:22:09,427 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:22:09,428 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:22:09,429 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:22:09,470 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD60C0>
2025-02-22 22:22:09,471 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD60C0> completed
2025-02-22 22:22:09,472 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:09,472 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:09,472 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:09,473 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:09,474 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:22:09,474 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:22:09,475 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:09,475 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBF340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:09,476 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF340>)
2025-02-22 22:22:09,476 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBF340>) completed
2025-02-22 22:22:09,477 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF340>)
2025-02-22 22:22:09,477 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBF340>) completed
2025-02-22 22:22:09,480 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:09,480 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:09,616 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:09,617 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:22:09,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:22:09,619 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:22:09,620 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:22:09,621 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:22:09,622 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:22:09,623 - aiogram.event - INFO - Update id=142537997 is handled. Duration 250 ms by bot id=6730535750
2025-02-22 22:22:10,970 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD51C0>
2025-02-22 22:22:10,972 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD51C0> completed
2025-02-22 22:22:10,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:10,975 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:10,976 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67970>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:10,977 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67970>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:10,982 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67970>)
2025-02-22 22:22:10,983 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67970>) completed
2025-02-22 22:22:10,984 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBE9C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:22:10,993 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBE9C0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:22:10,995 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBE9C0>)
2025-02-22 22:22:10,996 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBE9C0>) completed
2025-02-22 22:22:10,997 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBE9C0>)
2025-02-22 22:22:10,998 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBE9C0>) completed
2025-02-22 22:22:11,001 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67970>)
2025-02-22 22:22:11,009 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67970>) completed
2025-02-22 22:22:11,011 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67970>)
2025-02-22 22:22:11,011 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67970>) completed
2025-02-22 22:22:11,012 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67970>)
2025-02-22 22:22:11,014 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67970>) completed
2025-02-22 22:22:11,044 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5080>
2025-02-22 22:22:11,046 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5080> completed
2025-02-22 22:22:11,047 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:11,047 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:11,048 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:11,048 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66D40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:11,050 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:22:11,050 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:22:11,051 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE2440>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:11,053 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252FE2440>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:11,053 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE2440>)
2025-02-22 22:22:11,054 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252FE2440>) completed
2025-02-22 22:22:11,055 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE2440>)
2025-02-22 22:22:11,055 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252FE2440>) completed
2025-02-22 22:22:11,058 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:11,059 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:11,204 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:11,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:22:11,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:22:11,207 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:22:11,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:22:11,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66D40>)
2025-02-22 22:22:11,210 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66D40>) completed
2025-02-22 22:22:11,212 - aiogram.event - INFO - Update id=142537998 is handled. Duration 234 ms by bot id=6730535750
2025-02-22 22:22:12,580 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD5E40>
2025-02-22 22:22:12,582 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD5E40> completed
2025-02-22 22:22:12,584 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:12,585 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:12,586 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:12,587 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67C40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:12,591 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:22:12,592 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:22:12,592 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBFF40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:22:12,600 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBFF40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:22:12,601 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBFF40>)
2025-02-22 22:22:12,601 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBFF40>) completed
2025-02-22 22:22:12,602 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBFF40>)
2025-02-22 22:22:12,602 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBFF40>) completed
2025-02-22 22:22:12,604 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:22:12,610 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:22:12,612 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:22:12,612 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:22:12,613 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67C40>)
2025-02-22 22:22:12,613 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67C40>) completed
2025-02-22 22:22:12,639 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD76A0>
2025-02-22 22:22:12,640 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD76A0> completed
2025-02-22 22:22:12,641 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:12,641 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:12,642 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:12,642 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:12,643 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:22:12,644 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:22:12,644 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253149B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:12,646 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253149B40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:12,647 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253149B40>)
2025-02-22 22:22:12,647 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253149B40>) completed
2025-02-22 22:22:12,648 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253149B40>)
2025-02-22 22:22:12,648 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253149B40>) completed
2025-02-22 22:22:12,650 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:12,651 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:12,802 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:12,804 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:22:12,804 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:22:12,806 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:22:12,806 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:22:12,808 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:22:12,808 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:22:12,810 - aiogram.event - INFO - Update id=142537999 is handled. Duration 234 ms by bot id=6730535750
2025-02-22 22:22:14,323 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E252CD4400>
2025-02-22 22:22:14,324 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E252CD4400> completed
2025-02-22 22:22:14,326 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66F20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:14,327 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66F20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:14,328 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66F20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:14,329 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66F20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:14,335 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66F20>)
2025-02-22 22:22:14,336 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66F20>) completed
2025-02-22 22:22:14,338 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD640>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:22:14,347 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CBD640>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:22:14,350 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD640>)
2025-02-22 22:22:14,351 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CBD640>) completed
2025-02-22 22:22:14,353 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD640>)
2025-02-22 22:22:14,354 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CBD640>) completed
2025-02-22 22:22:14,359 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66F20>)
2025-02-22 22:22:14,369 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E66F20>) completed
2025-02-22 22:22:14,372 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66F20>)
2025-02-22 22:22:14,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E66F20>) completed
2025-02-22 22:22:14,375 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66F20>)
2025-02-22 22:22:14,377 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E66F20>) completed
2025-02-22 22:22:14,405 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E253134900>
2025-02-22 22:22:14,407 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E253134900> completed
2025-02-22 22:22:14,408 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67100>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:14,408 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67100>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:14,409 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67100>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:14,409 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67100>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:14,410 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67100>)
2025-02-22 22:22:14,410 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67100>) completed
2025-02-22 22:22:14,411 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253176340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:14,412 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253176340>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:14,413 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253176340>)
2025-02-22 22:22:14,413 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253176340>) completed
2025-02-22 22:22:14,414 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253176340>)
2025-02-22 22:22:14,414 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253176340>) completed
2025-02-22 22:22:14,417 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:14,418 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:14,534 - root - WARNING - Обнаружен невалидный file_id (ID 1), отправляем локальный файл
2025-02-22 22:22:14,536 - root - ERROR - Аудиофайл не найден: F:\develop\projects\franky\data\broadcasts\1177.mp3
2025-02-22 22:22:14,536 - root - ERROR - Файл 1177.mp3 (ID) отсутствует на сервере
Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 67, in send
    return await self._send_audio(chat_id, file_id, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\audio.py", line 96, in _send_audio
    return await self._bot.send_audio(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 2386, in send_audio
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\bot.py", line 494, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\aiohttp.py", line 189, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\pypoetry\Cache\virtualenvs\franky-_7Sgv2xz-py3.12\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong remote file identifier specified: can't unserialize it. Wrong last symbol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "F:\develop\projects\franky\src\services\audio.py", line 112, in _send_local_file
    audio_source = self._file_manager.get_file(filename)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "F:\develop\projects\franky\src\services\filemanager.py", line 29, in get_file
    raise FileNotFoundError
FileNotFoundError
2025-02-22 22:22:14,750 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:14,751 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67100>)
2025-02-22 22:22:14,751 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67100>) completed
2025-02-22 22:22:14,751 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC9F40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:14,752 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CC9F40>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:14,752 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC9F40>)
2025-02-22 22:22:14,752 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CC9F40>) completed
2025-02-22 22:22:14,752 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC9F40>)
2025-02-22 22:22:14,753 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CC9F40>) completed
2025-02-22 22:22:14,754 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:14,754 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:15,319 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:15,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67100>)
2025-02-22 22:22:15,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67100>) completed
2025-02-22 22:22:15,323 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67100>)
2025-02-22 22:22:15,323 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67100>) completed
2025-02-22 22:22:15,324 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67100>)
2025-02-22 22:22:15,325 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67100>) completed
2025-02-22 22:22:15,327 - aiogram.event - INFO - Update id=142538000 is handled. Duration 1015 ms by bot id=6730535750
2025-02-22 22:22:19,807 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E253134900>
2025-02-22 22:22:19,807 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E253134900> completed
2025-02-22 22:22:19,808 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:19,808 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:19,809 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:19,809 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E671F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:19,811 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:22:19,811 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:22:19,812 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CCAE40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:22:19,819 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252CCAE40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:22:19,820 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CCAE40>)
2025-02-22 22:22:19,820 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252CCAE40>) completed
2025-02-22 22:22:19,820 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CCAE40>)
2025-02-22 22:22:19,820 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252CCAE40>) completed
2025-02-22 22:22:19,822 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:22:19,825 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:22:19,826 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:22:19,826 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:22:19,826 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E671F0>)
2025-02-22 22:22:19,827 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E671F0>) completed
2025-02-22 22:22:19,844 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E253136480>
2025-02-22 22:22:19,845 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E253136480> completed
2025-02-22 22:22:19,845 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:19,845 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:19,845 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:19,846 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67B50>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:19,846 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:22:19,846 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:22:19,847 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253174140>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:19,847 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253174140>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:19,847 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253174140>)
2025-02-22 22:22:19,848 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253174140>) completed
2025-02-22 22:22:19,848 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253174140>)
2025-02-22 22:22:19,848 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253174140>) completed
2025-02-22 22:22:19,850 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:19,850 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:20,378 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:20,380 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:22:20,380 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:22:20,382 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:22:20,382 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:22:20,384 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67B50>)
2025-02-22 22:22:20,384 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67B50>) completed
2025-02-22 22:22:20,386 - aiogram.event - INFO - Update id=142538001 is handled. Duration 577 ms by bot id=6730535750
2025-02-22 22:22:22,128 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E253136DE0>
2025-02-22 22:22:22,130 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E253136DE0> completed
2025-02-22 22:22:22,132 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:22,132 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:22,134 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:22,135 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67010>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:22,141 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:22:22,141 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:22:22,142 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253174F40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:22:22,152 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253174F40>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:22:22,154 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253174F40>)
2025-02-22 22:22:22,154 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253174F40>) completed
2025-02-22 22:22:22,156 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253174F40>)
2025-02-22 22:22:22,156 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253174F40>) completed
2025-02-22 22:22:22,159 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:22:22,167 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:22:22,169 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:22:22,170 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:22:22,171 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67010>)
2025-02-22 22:22:22,172 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67010>) completed
2025-02-22 22:22:22,202 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E253135580>
2025-02-22 22:22:22,203 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E253135580> completed
2025-02-22 22:22:22,204 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:22,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:22,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:22,205 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E674C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:22,206 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:22:22,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:22:22,207 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F85940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:22,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E252F85940>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:22,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F85940>)
2025-02-22 22:22:22,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E252F85940>) completed
2025-02-22 22:22:22,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F85940>)
2025-02-22 22:22:22,210 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E252F85940>) completed
2025-02-22 22:22:22,213 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:22,214 - aiogram.utils.chat_action - DEBUG - Sent chat action 'upload_voice' to chat_id=480225239 via bot 6730535750 (already sent actions 0)
2025-02-22 22:22:22,381 - aiogram.utils.chat_action - DEBUG - Finished chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
2025-02-22 22:22:22,382 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:22:22,382 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:22:22,383 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:22:22,384 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:22:22,385 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>)
2025-02-22 22:22:22,385 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E674C0>) completed
2025-02-22 22:22:22,386 - aiogram.event - INFO - Update id=142538002 is handled. Duration 250 ms by bot id=6730535750
2025-02-22 22:22:23,997 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E253137100>
2025-02-22 22:22:23,999 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E253137100> completed
2025-02-22 22:22:24,000 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:24,001 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:24,002 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:24,003 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E67A60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:24,009 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:22:24,009 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:22:24,011 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253174FC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None))
2025-02-22 22:22:24,020 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253174FC0>, 'INSERT INTO users (telegram_id, first_name, last_name, show_role_name) VALUES (?, ?, ?, ?) ON CONFLICT (telegram_id) DO UPDATE SET telegram_id = ?, first_name = ?, last_name = ? RETURNING telegram_id, first_name, last_name, phone_number, email, created_at, show_role_name, id', (480225239, 'Расим', None, 0, 480225239, 'Расим', None)) completed
2025-02-22 22:22:24,022 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253174FC0>)
2025-02-22 22:22:24,023 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253174FC0>) completed
2025-02-22 22:22:24,024 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253174FC0>)
2025-02-22 22:22:24,025 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253174FC0>) completed
2025-02-22 22:22:24,028 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:22:24,035 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:22:24,037 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:22:24,038 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:22:24,040 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67A60>)
2025-02-22 22:22:24,041 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E252E67A60>) completed
2025-02-22 22:22:24,087 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E2531363E0>
2025-02-22 22:22:24,088 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E2531363E0> completed
2025-02-22 22:22:24,089 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True)
2025-02-22 22:22:24,089 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E25282FE20>, deterministic=True) completed
2025-02-22 22:22:24,090 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-02-22 22:22:24,090 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E252E66E30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-02-22 22:22:24,091 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>)
2025-02-22 22:22:24,091 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E252E66E30>) completed
2025-02-22 22:22:24,092 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253175DC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0))
2025-02-22 22:22:24,093 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E253175DC0>, 'SELECT broadcasts.role_name, broadcasts.release_date, broadcasts.release_type, broadcasts.comment, broadcasts.filename, broadcasts.telegram_file_id, broadcasts.telegram_file_id_alt, broadcasts.id \nFROM broadcasts ORDER BY random()\n LIMIT ? OFFSET ?', (1, 0)) completed
2025-02-22 22:22:24,094 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253175DC0>)
2025-02-22 22:22:24,094 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E253175DC0>) completed
2025-02-22 22:22:24,095 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253175DC0>)
2025-02-22 22:22:24,095 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E253175DC0>) completed
2025-02-22 22:22:24,097 - aiogram.utils.chat_action - DEBUG - Started chat action 'upload_voice' sender in chat_id=480225239 via bot id=6730535750
